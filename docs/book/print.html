<!DOCTYPE html>
<html lang="en" class="light sidebar-visible" dir="ltr">
	<head>
		<!-- Book generated using mdBook -->
		<meta charset="UTF-8" />
		<title>workspace-utils</title>
		<meta name="robots" content="noindex" />

		<!-- Custom HTML head -->

		<meta
			name="description"
			content="A CLI tool to orchestrate scripts across monorepo workspaces with parallel execution and dependency-aware builds"
		/>
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="theme-color" content="#ffffff" />

		<link rel="icon" href="favicon.svg" />
		<link rel="shortcut icon" href="favicon.png" />
		<link rel="stylesheet" href="css/variables.css" />
		<link rel="stylesheet" href="css/general.css" />
		<link rel="stylesheet" href="css/chrome.css" />
		<link rel="stylesheet" href="css/print.css" media="print" />

		<!-- Fonts -->
		<link rel="stylesheet" href="FontAwesome/css/font-awesome.css" />
		<link rel="stylesheet" href="fonts/fonts.css" />

		<!-- Highlight.js Stylesheets -->
		<link rel="stylesheet" id="highlight-css" href="highlight.css" />
		<link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css" />
		<link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css" />

		<!-- Custom theme stylesheets -->

		<!-- Provide site root and default themes to javascript -->
		<script>
			const path_to_root = '';
			const default_light_theme = 'light';
			const default_dark_theme = 'navy';
			window.path_to_searchindex_js = 'searchindex.js';
		</script>
		<!-- Start loading toc.js asap -->
		<script src="toc.js"></script>
	</head>
	<body>
		<div id="mdbook-help-container">
			<div id="mdbook-help-popup">
				<h2 class="mdbook-help-title">Keyboard shortcuts</h2>
				<div>
					<p>Press <kbd>â†</kbd> or <kbd>â†’</kbd> to navigate between chapters</p>
					<p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
					<p>Press <kbd>?</kbd> to show this help</p>
					<p>Press <kbd>Esc</kbd> to hide this help</p>
				</div>
			</div>
		</div>
		<div id="body-container">
			<!-- Work around some values being stored in localStorage wrapped in quotes -->
			<script>
				try {
					let theme = localStorage.getItem('mdbook-theme');
					let sidebar = localStorage.getItem('mdbook-sidebar');

					if (theme.startsWith('"') && theme.endsWith('"')) {
						localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
					}

					if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
						localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
					}
				} catch (e) {}
			</script>

			<!-- Set the theme before any content is loaded, prevents flash -->
			<script>
				const default_theme = window.matchMedia('(prefers-color-scheme: dark)').matches
					? default_dark_theme
					: default_light_theme;
				let theme;
				try {
					theme = localStorage.getItem('mdbook-theme');
				} catch (e) {}
				if (theme === null || theme === undefined) {
					theme = default_theme;
				}
				const html = document.documentElement;
				html.classList.remove('light');
				html.classList.add(theme);
				html.classList.add('js');
			</script>

			<input type="checkbox" id="sidebar-toggle-anchor" class="hidden" />

			<!-- Hide / unhide sidebar before it is displayed -->
			<script>
				let sidebar = null;
				const sidebar_toggle = document.getElementById('sidebar-toggle-anchor');
				if (document.body.clientWidth >= 1080) {
					try {
						sidebar = localStorage.getItem('mdbook-sidebar');
					} catch (e) {}
					sidebar = sidebar || 'visible';
				} else {
					sidebar = 'hidden';
					sidebar_toggle.checked = false;
				}
				if (sidebar === 'visible') {
					sidebar_toggle.checked = true;
				} else {
					html.classList.remove('sidebar-visible');
				}
			</script>

			<nav id="sidebar" class="sidebar" aria-label="Table of contents">
				<!-- populated by js -->
				<mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
				<noscript>
					<iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
				</noscript>
				<div id="sidebar-resize-handle" class="sidebar-resize-handle">
					<div class="sidebar-resize-indicator"></div>
				</div>
			</nav>

			<div id="page-wrapper" class="page-wrapper">
				<div class="page">
					<div id="menu-bar-hover-placeholder"></div>
					<div id="menu-bar" class="menu-bar sticky">
						<div class="left-buttons">
							<label
								id="sidebar-toggle"
								class="icon-button"
								for="sidebar-toggle-anchor"
								title="Toggle Table of Contents"
								aria-label="Toggle Table of Contents"
								aria-controls="sidebar"
							>
								<i class="fa fa-bars"></i>
							</label>
							<button
								id="theme-toggle"
								class="icon-button"
								type="button"
								title="Change theme"
								aria-label="Change theme"
								aria-haspopup="true"
								aria-expanded="false"
								aria-controls="theme-list"
							>
								<i class="fa fa-paint-brush"></i>
							</button>
							<ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
								<li role="none">
									<button role="menuitem" class="theme" id="default_theme">Auto</button>
								</li>
								<li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
								<li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
								<li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
								<li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
								<li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
							</ul>
							<button
								id="search-toggle"
								class="icon-button"
								type="button"
								title="Search (`/`)"
								aria-label="Toggle Searchbar"
								aria-expanded="false"
								aria-keyshortcuts="/ s"
								aria-controls="searchbar"
							>
								<i class="fa fa-search"></i>
							</button>
						</div>

						<h1 class="menu-title">workspace-utils</h1>

						<div class="right-buttons">
							<a href="print.html" title="Print this book" aria-label="Print this book">
								<i id="print-button" class="fa fa-print"></i>
							</a>
							<a
								href="https://github.com/torstendittmann/workspace-utils"
								title="Git repository"
								aria-label="Git repository"
							>
								<i id="git-repository-button" class="fa fa-github"></i>
							</a>
						</div>
					</div>

					<div id="search-wrapper" class="hidden">
						<form id="searchbar-outer" class="searchbar-outer">
							<div class="search-wrapper">
								<input
									type="search"
									id="searchbar"
									name="searchbar"
									placeholder="Search this book ..."
									aria-controls="searchresults-outer"
									aria-describedby="searchresults-header"
								/>
								<div class="spinner-wrapper">
									<i class="fa fa-spinner fa-spin"></i>
								</div>
							</div>
						</form>
						<div id="searchresults-outer" class="searchresults-outer hidden">
							<div id="searchresults-header" class="searchresults-header"></div>
							<ul id="searchresults"></ul>
						</div>
					</div>

					<!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
					<script>
						document
							.getElementById('sidebar-toggle')
							.setAttribute('aria-expanded', sidebar === 'visible');
						document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
						Array.from(document.querySelectorAll('#sidebar a')).forEach(function (link) {
							link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
						});
					</script>

					<div id="content" class="content">
						<main>
							<h1 id="workspace-utils">
								<a class="header" href="#workspace-utils">workspace-utils</a>
							</h1>
							<p>
								A powerful <strong>CLI tool</strong> designed to orchestrate scripts across monorepo
								workspaces with <strong>parallel execution</strong>,
								<strong>dependency-aware builds</strong>, and
								<strong>real-time log streaming</strong>.
							</p>
							<h2 id="what-is-workspace-utils">
								<a class="header" href="#what-is-workspace-utils">What is workspace-utils?</a>
							</h2>
							<p>
								<code>workspace-utils</code> simplifies working with monorepos by providing
								intelligent script orchestration across multiple packages. Whether you're using
								<strong>Bun</strong>, <strong>pnpm</strong>, or <strong>npm</strong> workspaces,
								this tool automatically detects your setup and provides a unified interface for
								running scripts efficiently.
							</p>
							<h2 id="key-features"><a class="header" href="#key-features">Key Features</a></h2>
							<h3 id="-parallel-execution-by-default">
								<a class="header" href="#-parallel-execution-by-default"
									>ğŸš€ <strong>Parallel Execution by Default</strong></a
								>
							</h3>
							<p>
								Run scripts across multiple packages simultaneously with configurable concurrency
								limits. Perfect for tests, linting, and development workflows.
							</p>
							<h3 id="-dependency-aware-builds">
								<a class="header" href="#-dependency-aware-builds"
									>ğŸ—ï¸ <strong>Dependency-Aware Builds</strong></a
								>
							</h3>
							<p>
								Automatically builds packages in the correct order using topological sorting.
								Dependencies are always built before their dependents.
							</p>
							<h3 id="-real-time-log-streaming">
								<a class="header" href="#-real-time-log-streaming"
									>ğŸ¨ <strong>Real-time Log Streaming</strong></a
								>
							</h3>
							<p>
								Color-coded, prefixed output makes it easy to track which package is doing what.
								Each package gets its own color for instant identification.
							</p>
							<h3 id="-smart-package-filtering">
								<a class="header" href="#-smart-package-filtering"
									>ğŸ” <strong>Smart Package Filtering</strong></a
								>
							</h3>
							<p>Use glob patterns to target specific packages:</p>
							<ul>
								<li><code>--filter "@scope/*"</code> - All packages in a scope</li>
								<li><code>--filter "apps/*"</code> - All apps</li>
								<li><code>--filter "*-utils"</code> - All utility packages</li>
							</ul>
							<h3 id="-multi-package-manager-support">
								<a class="header" href="#-multi-package-manager-support"
									>ğŸ“¦ <strong>Multi Package Manager Support</strong></a
								>
							</h3>
							<p>Works seamlessly with:</p>
							<ul>
								<li>
									<strong>Bun workspaces</strong> (<code>package.json</code> +
									<code>bun.lockb</code>)
								</li>
								<li>
									<strong>pnpm workspaces</strong> (<code>pnpm-workspace.yaml</code> +
									<code>pnpm-lock.yaml</code>)
								</li>
								<li>
									<strong>npm workspaces</strong> (<code>package.json</code> +
									<code>package-lock.json</code>)
								</li>
							</ul>
							<h3 id="-zero-configuration">
								<a class="header" href="#-zero-configuration"
									>ğŸ¯ <strong>Zero Configuration</strong></a
								>
							</h3>
							<p>
								No config files needed. Just run it in any workspace and it automatically detects
								your setup.
							</p>
							<h2 id="why-workspace-utils">
								<a class="header" href="#why-workspace-utils">Why workspace-utils?</a>
							</h2>
							<h3 id="before-workspace-utils">
								<a class="header" href="#before-workspace-utils">Before workspace-utils</a>
							</h3>
							<pre><code class="language-bash"># Run tests manually in each package
cd packages/utils &amp;&amp; npm test
cd ../ui-components &amp;&amp; npm test  
cd ../api-client &amp;&amp; npm test
cd ../../apps/web-app &amp;&amp; npm test

# Build in correct order manually
cd packages/utils &amp;&amp; npm run build
cd ../ui-components &amp;&amp; npm run build  # depends on utils
cd ../api-client &amp;&amp; npm run build     # depends on utils
cd ../../apps/web-app &amp;&amp; npm run build # depends on ui-components &amp; api-client
</code></pre>
							<h3 id="after-workspace-utils">
								<a class="header" href="#after-workspace-utils">After workspace-utils</a>
							</h3>
							<pre><code class="language-json">{
  "scripts": {
    "test": "wsu run test",
    "build": "wsu build",
    "dev": "wsu dev"
  }
}
</code></pre>
							<pre><code class="language-bash"># Run all tests in parallel
npm run test

# Build everything in correct dependency order
npm run build

# Start all dev servers with live logs
npm run dev
</code></pre>
							<h2 id="at-a-glance"><a class="header" href="#at-a-glance">At a Glance</a></h2>
							<div class="table-wrapper">
								<table>
									<thead>
										<tr>
											<th>Package.json Script</th>
											<th>Purpose</th>
											<th>Execution</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td><code>"test": "wsu run test"</code></td>
											<td>Run tests across packages</td>
											<td><strong>Parallel</strong> by default</td>
										</tr>
										<tr>
											<td><code>"build": "wsu build"</code></td>
											<td>Build packages</td>
											<td><strong>Dependency order</strong> (batched)</td>
										</tr>
										<tr>
											<td><code>"dev": "wsu dev"</code></td>
											<td>Start dev servers</td>
											<td><strong>Parallel</strong> with live logs</td>
										</tr>
									</tbody>
								</table>
							</div>
							<h2 id="quick-example"><a class="header" href="#quick-example">Quick Example</a></h2>
							<p>Given this monorepo structure:</p>
							<pre><code>my-project/
â”œâ”€â”€ package.json (workspaces: ["packages/*", "apps/*"])
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ utils/           # no dependencies
â”‚   â”œâ”€â”€ ui-components/   # depends on utils
â”‚   â””â”€â”€ api-client/      # depends on utils
â””â”€â”€ apps/
    â””â”€â”€ web-app/         # depends on ui-components, api-client
</code></pre>
							<p>
								Running <code>npm run build</code> (with <code>"build": "wsu build"</code> in
								package.json) will:
							</p>
							<ol>
								<li><strong>Batch 1:</strong> Build <code>utils</code></li>
								<li>
									<strong>Batch 2:</strong> Build <code>ui-components</code> and
									<code>api-client</code> in parallel
								</li>
								<li><strong>Batch 3:</strong> Build <code>web-app</code></li>
							</ol>
							<p>
								Running <code>npm run test</code> (with <code>"test": "wsu run test"</code> in
								package.json) will run all tests in parallel across all packages simultaneously.
							</p>
							<h2 id="ready-to-get-started">
								<a class="header" href="#ready-to-get-started">Ready to Get Started?</a>
							</h2>
							<p>
								Continue to <a href="./installation.html">Installation</a> to set up workspace-utils
								in your project.
							</p>
							<div style="break-before: page; page-break-before: always"></div>
							<h1 id="installation"><a class="header" href="#installation">Installation</a></h1>
							<p>
								workspace-utils is designed to be installed as a development dependency in your
								project and used through package.json scripts.
							</p>
							<h2 id="installation-1"><a class="header" href="#installation-1">Installation</a></h2>
							<p>Install workspace-utils as a development dependency in your monorepo root:</p>
							<pre><code class="language-bash"># npm
npm install --save-dev workspace-utils

# pnpm
pnpm add -D workspace-utils

# bun
bun add -d workspace-utils

# yarn
yarn add --dev workspace-utils
</code></pre>
							<h2 id="setup-package-scripts">
								<a class="header" href="#setup-package-scripts">Setup Package Scripts</a>
							</h2>
							<p>
								Add scripts to your root <code>package.json</code> using the <code>wsu</code> short
								command:
							</p>
							<pre><code class="language-json">{
  "scripts": {
    "test": "wsu run test",
    "build": "wsu build",
    "dev": "wsu dev",
    "lint": "wsu run lint",
    "typecheck": "wsu run typecheck",
    "clean": "wsu run clean --sequential"
  }
}
</code></pre>
							<p>Now you can run commands like:</p>
							<pre><code class="language-bash">npm run test     # Run tests across all packages
npm run build    # Build packages in dependency order
npm run dev      # Start all dev servers
npm run lint     # Run linting across packages
</code></pre>
							<h2 id="system-requirements">
								<a class="header" href="#system-requirements">System Requirements</a>
							</h2>
							<ul>
								<li><strong>Node.js</strong>: Version 18 or higher</li>
								<li>
									<strong>Package Manager</strong>: Any of the following:
									<ul>
										<li>npm (comes with Node.js)</li>
										<li>pnpm (install with <code>npm install -g pnpm</code>)</li>
										<li>Bun (install from <a href="https://bun.sh">bun.sh</a>)</li>
										<li>Yarn (install with <code>npm install -g yarn</code>)</li>
									</ul>
								</li>
							</ul>
							<h2 id="verification"><a class="header" href="#verification">Verification</a></h2>
							<p>After installation, verify that workspace-utils is working by running a script:</p>
							<pre><code class="language-bash">npm run build
</code></pre>
							<p>
								You should see workspace-utils detect your workspace and execute the build process.
							</p>
							<h2 id="workspace-requirements">
								<a class="header" href="#workspace-requirements">Workspace Requirements</a>
							</h2>
							<p>
								workspace-utils works with any monorepo that has one of the following
								configurations:
							</p>
							<h3 id="bun-workspaces">
								<a class="header" href="#bun-workspaces">Bun Workspaces</a>
							</h3>
							<ul>
								<li>Root <code>package.json</code> with <code>workspaces</code> field</li>
								<li><code>bun.lockb</code> file (or <code>bunfig.toml</code>)</li>
							</ul>
							<pre><code class="language-json">{
  "name": "my-monorepo",
  "workspaces": ["packages/*", "apps/*"]
}
</code></pre>
							<h3 id="pnpm-workspaces">
								<a class="header" href="#pnpm-workspaces">pnpm Workspaces</a>
							</h3>
							<ul>
								<li><code>pnpm-workspace.yaml</code> file</li>
								<li><code>pnpm-lock.yaml</code> file</li>
							</ul>
							<pre><code class="language-yaml"># pnpm-workspace.yaml
packages:
  - 'packages/*'
  - 'apps/*'
</code></pre>
							<h3 id="npm-workspaces">
								<a class="header" href="#npm-workspaces">npm Workspaces</a>
							</h3>
							<ul>
								<li>Root <code>package.json</code> with <code>workspaces</code> field</li>
								<li><code>package-lock.json</code> file</li>
							</ul>
							<pre><code class="language-json">{
  "name": "my-monorepo",
  "workspaces": ["packages/*", "apps/*"]
}
</code></pre>
							<h2 id="next-steps"><a class="header" href="#next-steps">Next Steps</a></h2>
							<p>
								Once installed, check out the <a href="./quick-start.html">Quick Start</a> guide to
								begin using workspace-utils in your monorepo.
							</p>
							<h2 id="troubleshooting-installation">
								<a class="header" href="#troubleshooting-installation"
									>Troubleshooting Installation</a
								>
							</h2>
							<h3 id="installation-issues">
								<a class="header" href="#installation-issues">Installation Issues</a>
							</h3>
							<p>If you encounter issues during installation:</p>
							<p><strong>Clear package manager cache:</strong></p>
							<pre><code class="language-bash"># npm
npm cache clean --force

# pnpm
pnpm store prune

# bun
bun pm cache rm

# yarn
yarn cache clean
</code></pre>
							<p><strong>Reinstall dependencies:</strong></p>
							<pre><code class="language-bash">rm -rf node_modules package-lock.json
npm install
</code></pre>
							<h3 id="script-not-working">
								<a class="header" href="#script-not-working">Script Not Working</a>
							</h3>
							<p>If scripts in package.json don't work:</p>
							<ol>
								<li>Ensure workspace-utils is installed as a dev dependency</li>
								<li>Check that your package.json scripts use <code>wsu</code> correctly</li>
								<li>Run <code>npm ls workspace-utils</code> to verify installation</li>
								<li>Try running the command directly: <code>npx wsu --version</code></li>
							</ol>
							<div style="break-before: page; page-break-before: always"></div>
							<h1 id="quick-start"><a class="header" href="#quick-start">Quick Start</a></h1>
							<p>
								Get up and running with workspace-utils in minutes. This guide assumes you have a
								monorepo with workspaces already set up.
							</p>
							<h2 id="prerequisites"><a class="header" href="#prerequisites">Prerequisites</a></h2>
							<ul>
								<li>A monorepo with Bun, pnpm, or npm workspaces</li>
								<li>Node.js 18+ installed</li>
								<li>
									workspace-utils installed as a dev dependency (<a href="./installation.html"
										>Installation Guide</a
									>)
								</li>
							</ul>
							<h2 id="setup-your-scripts">
								<a class="header" href="#setup-your-scripts">Setup Your Scripts</a>
							</h2>
							<p>First, add workspace-utils scripts to your root <code>package.json</code>:</p>
							<pre><code class="language-json">{
  "scripts": {
    "test": "wsu run test",
    "build": "wsu build", 
    "dev": "wsu dev",
    "lint": "wsu run lint"
  }
}
</code></pre>
							<h2 id="your-first-command">
								<a class="header" href="#your-first-command">Your First Command</a>
							</h2>
							<p>Navigate to your monorepo root and run:</p>
							<pre><code class="language-bash">npm run test
</code></pre>
							<p>This will:</p>
							<ol>
								<li>ğŸ” <strong>Auto-detect</strong> your package manager (Bun, pnpm, or npm)</li>
								<li>ğŸ“¦ <strong>Discover</strong> all packages in your workspace</li>
								<li>âœ… <strong>Filter</strong> to packages that have a <code>test</code> script</li>
								<li>ğŸš€ <strong>Run tests</strong> in parallel across all packages</li>
								<li>ğŸ“Š <strong>Display</strong> a summary of results</li>
							</ol>
							<h2 id="core-commands"><a class="header" href="#core-commands">Core Commands</a></h2>
							<h3 id="run-scripts-across-packages">
								<a class="header" href="#run-scripts-across-packages"
									>Run Scripts Across Packages</a
								>
							</h3>
							<p>Add these scripts to your <code>package.json</code>:</p>
							<pre><code class="language-json">{
  "scripts": {
    "test": "wsu run test",
    "test:sequential": "wsu run test --sequential",
    "lint": "wsu run lint --concurrency 8"
  }
}
</code></pre>
							<p>Then run:</p>
							<pre><code class="language-bash">npm run test           # Run tests in parallel (default)
npm run test:sequential # Run builds sequentially  
npm run lint           # Run linting with custom concurrency
</code></pre>
							<h3 id="build-with-dependency-awareness">
								<a class="header" href="#build-with-dependency-awareness"
									>Build with Dependency Awareness</a
								>
							</h3>
							<p>Add build scripts:</p>
							<pre><code class="language-json">{
  "scripts": {
    "build": "wsu build",
    "build:backend": "wsu build --filter '@myorg/backend-*'"
  }
}
</code></pre>
							<p>Then run:</p>
							<pre><code class="language-bash">npm run build         # Build all packages in dependency order
npm run build:backend # Build only backend packages
</code></pre>
							<h3 id="start-development-servers">
								<a class="header" href="#start-development-servers">Start Development Servers</a>
							</h3>
							<p>Add dev scripts:</p>
							<pre><code class="language-json">{
  "scripts": {
    "dev": "wsu dev",
    "dev:apps": "wsu dev --filter 'apps/*'"
  }
}
</code></pre>
							<p>Then run:</p>
							<pre><code class="language-bash">npm run dev      # Start all dev servers
npm run dev:apps # Start only frontend packages
</code></pre>
							<h2 id="example-walkthrough">
								<a class="header" href="#example-walkthrough">Example Walkthrough</a>
							</h2>
							<p>Let's say you have this monorepo structure:</p>
							<pre><code>my-project/
â”œâ”€â”€ package.json
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ package.json (scripts: test, build, lint)
â”‚   â””â”€â”€ ui-components/
â”‚       â””â”€â”€ package.json (scripts: test, build, dev, storybook)
â””â”€â”€ apps/
    â””â”€â”€ web-app/
        â””â”€â”€ package.json (scripts: test, build, dev, start)
</code></pre>
							<h3 id="step-1-run-tests">
								<a class="header" href="#step-1-run-tests">Step 1: Run Tests</a>
							</h3>
							<pre><code class="language-bash">npm run test
</code></pre>
							<p><strong>Output:</strong></p>
							<pre><code>ğŸš€ Running script "test" across packages...

ğŸ“ Workspace root: /Users/you/my-project
ğŸ“¦ Found 3 packages

âœ… Running "test" in 3 packages:
  â€¢ utils
  â€¢ ui-components  
  â€¢ web-app

ğŸ”§ Package manager: npm
âš¡ Execution mode: parallel (concurrency: 4)

[utils] Starting: npm run test
[ui-components] Starting: npm run test  
[web-app] Starting: npm run test
[utils] âœ… Completed in 1,234ms
[ui-components] âœ… Completed in 2,456ms
[web-app] âœ… Completed in 3,789ms

ğŸ“Š Execution Summary:
âœ… Successful: 3
â±ï¸  Total duration: 3,789ms
</code></pre>
							<h3 id="step-2-build-everything">
								<a class="header" href="#step-2-build-everything">Step 2: Build Everything</a>
							</h3>
							<pre><code class="language-bash">npm run build
</code></pre>
							<p><strong>Output:</strong></p>
							<pre><code>ğŸ—ï¸  Building packages in dependency order...

ğŸ“Š Building dependency graph...
âœ… Build order determined: 2 batches

ğŸ“‹ Build Plan:
  Batch 1: utils
  Batch 2: ui-components, web-app

ğŸ”§ Package manager: npm
âš¡ Batch concurrency: 4

ğŸ”„ Running batch 1/2 (1 packages)
[utils] Starting: npm run build
[utils] âœ… Completed in 2,000ms
âœ… Batch 1 completed successfully

ğŸ”„ Running batch 2/2 (2 packages)
[ui-components] Starting: npm run build
[web-app] Starting: npm run build
[ui-components] âœ… Completed in 3,000ms
[web-app] âœ… Completed in 4,000ms
âœ… Batch 2 completed successfully

ğŸ‰ All packages built successfully!
</code></pre>
							<h3 id="step-3-start-development">
								<a class="header" href="#step-3-start-development">Step 3: Start Development</a>
							</h3>
							<pre><code class="language-bash">npm run dev
</code></pre>
							<p><strong>Output:</strong></p>
							<pre><code>ğŸš€ Starting development servers with live log streaming...

âœ… Starting dev servers for 2 packages:
  â€¢ ui-components
  â€¢ web-app

ğŸ”§ Package manager: npm
âš¡ Running 2 dev servers simultaneously

ğŸ¬ Starting development servers...

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[ui-components] Starting: npm run dev
[web-app] Starting: npm run dev
[ui-components] Server running on http://localhost:6006
[web-app] Server running on http://localhost:3000
[ui-components] Hot reload enabled
[web-app] Hot reload enabled
...
</code></pre>
							<h2 id="filtering-examples">
								<a class="header" href="#filtering-examples">Filtering Examples</a>
							</h2>
							<p>Use filtering options in your package.json scripts:</p>
							<pre><code class="language-json">{
  "scripts": {
    "test:scope": "wsu run test --filter '@myorg/*'",
    "build:apps": "wsu build --filter 'apps/*'",
    "dev:frontend": "wsu dev --filter '*frontend*'",
    "lint:utils": "wsu run lint --filter '*utils*'"
  }
}
</code></pre>
							<p>Then run:</p>
							<pre><code class="language-bash">npm run test:scope     # Run tests only for scoped packages
npm run build:apps     # Build only apps
npm run dev:frontend   # Start dev servers for frontend packages  
npm run lint:utils     # Run linting for utility packages
</code></pre>
							<h2 id="common-patterns">
								<a class="header" href="#common-patterns">Common Patterns</a>
							</h2>
							<h3 id="packagejson-scripts">
								<a class="header" href="#packagejson-scripts">Package.json Scripts</a>
							</h3>
							<p>Add these to your root <code>package.json</code> for convenient shortcuts:</p>
							<pre><code class="language-json">{
  "scripts": {
    "test": "wsu run test",
    "test:sequential": "wsu run test --sequential", 
    "build": "wsu build",
    "build:frontend": "wsu build --filter 'apps/*'",
    "dev": "wsu dev",
    "lint": "wsu run lint",
    "lint:fix": "wsu run lint:fix"
  }
}
</code></pre>
							<h2 id="whats-next"><a class="header" href="#whats-next">What's Next?</a></h2>
							<ul>
								<li>ğŸ“š Learn about <a href="./configuration.html">Configuration</a> options</li>
								<li>ğŸ”§ Explore all <a href="./commands/overview.html">Commands</a> in detail</li>
								<li>ğŸ¯ Check out <a href="./examples/common-patterns.html">Common Patterns</a></li>
								<li>
									ğŸ› See <a href="./troubleshooting/common-issues.html">Troubleshooting</a> if you
									run into issues
								</li>
							</ul>
							<h2 id="need-help"><a class="header" href="#need-help">Need Help?</a></h2>
							<ul>
								<li>View all available options: <code>npx wsu --help</code></li>
								<li>Get help for specific commands: <code>npx wsu run --help</code></li>
								<li>
									Check out the <a href="./reference/cli.html">CLI Reference</a> for complete
									documentation
								</li>
							</ul>
							<div style="break-before: page; page-break-before: always"></div>
							<h1 id="configuration"><a class="header" href="#configuration">Configuration</a></h1>
							<p>
								workspace-utils is designed to work with <strong>zero configuration</strong> by
								default. It automatically detects your workspace setup and package manager, then
								runs with sensible defaults. However, you can customize behavior through
								command-line options.
							</p>
							<h2 id="no-configuration-files">
								<a class="header" href="#no-configuration-files">No Configuration Files</a>
							</h2>
							<p>
								Unlike many other tools, workspace-utils
								<strong>does not use configuration files</strong>. All behavior is controlled
								through:
							</p>
							<ol>
								<li><strong>Command-line flags</strong> (primary method)</li>
								<li><strong>Workspace structure</strong> (automatic detection)</li>
								<li><strong>Package manager detection</strong> (automatic)</li>
							</ol>
							<p>
								This approach keeps things simple and ensures your commands are explicit and
								reproducible.
							</p>
							<h2 id="command-line-configuration">
								<a class="header" href="#command-line-configuration">Command-Line Configuration</a>
							</h2>
							<p>
								All configuration is done through command-line options. Here are the most commonly
								used options:
							</p>
							<h3 id="global-options">
								<a class="header" href="#global-options">Global Options</a>
							</h3>
							<p>Available for all commands:</p>
							<div class="table-wrapper">
								<table>
									<thead>
										<tr>
											<th>Option</th>
											<th>Description</th>
											<th>Default</th>
											<th>Example</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td><code>--filter &lt;pattern&gt;</code></td>
											<td>Filter packages by glob pattern</td>
											<td>All packages</td>
											<td><code>--filter "@scope/*"</code></td>
										</tr>
										<tr>
											<td><code>--concurrency &lt;number&gt;</code></td>
											<td>Max concurrent processes</td>
											<td><code>4</code></td>
											<td><code>--concurrency 8</code></td>
										</tr>
										<tr>
											<td><code>--help</code></td>
											<td>Show command help</td>
											<td>-</td>
											<td><code>--help</code></td>
										</tr>
									</tbody>
								</table>
							</div>
							<h3 id="command-specific-options">
								<a class="header" href="#command-specific-options">Command-Specific Options</a>
							</h3>
							<h4 id="run-command"><a class="header" href="#run-command">run command</a></h4>
							<pre><code class="language-bash">workspace-utils run &lt;script&gt; [options]
</code></pre>
							<div class="table-wrapper">
								<table>
									<thead>
										<tr>
											<th>Option</th>
											<th>Description</th>
											<th>Default</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td><code>--sequential</code></td>
											<td>Run sequentially instead of parallel</td>
											<td><code>false</code></td>
										</tr>
									</tbody>
								</table>
							</div>
							<h4 id="build-command"><a class="header" href="#build-command">build command</a></h4>
							<pre><code class="language-bash">workspace-utils build [options]
</code></pre>
							<div class="table-wrapper">
								<table>
									<thead>
										<tr>
											<th>Option</th>
											<th>Description</th>
											<th>Default</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td><code>--skip-unchanged</code></td>
											<td>Skip unchanged packages (future)</td>
											<td><code>false</code></td>
										</tr>
									</tbody>
								</table>
							</div>
							<h4 id="dev-command"><a class="header" href="#dev-command">dev command</a></h4>
							<pre><code class="language-bash">workspace-utils dev [options]
</code></pre>
							<p>No additional options - uses global options only.</p>
							<h2 id="environment-variables">
								<a class="header" href="#environment-variables">Environment Variables</a>
							</h2>
							<p>workspace-utils respects these environment variables:</p>
							<div class="table-wrapper">
								<table>
									<thead>
										<tr>
											<th>Variable</th>
											<th>Description</th>
											<th>Default</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td><code>NODE_ENV</code></td>
											<td>Node environment</td>
											<td><code>development</code></td>
										</tr>
										<tr>
											<td><code>FORCE_COLOR</code></td>
											<td>Force colored output</td>
											<td><code>1</code> (enabled)</td>
										</tr>
									</tbody>
								</table>
							</div>
							<h2 id="package-manager-detection">
								<a class="header" href="#package-manager-detection">Package Manager Detection</a>
							</h2>
							<p>
								workspace-utils automatically detects your package manager based on lock files and
								configuration:
							</p>
							<h3 id="detection-priority">
								<a class="header" href="#detection-priority">Detection Priority</a>
							</h3>
							<ol>
								<li>
									<strong>Bun</strong> - if <code>bun.lockb</code> exists or bun-specific fields in
									<code>package.json</code>
								</li>
								<li>
									<strong>pnpm</strong> - if <code>pnpm-lock.yaml</code> or
									<code>pnpm-workspace.yaml</code> exists
								</li>
								<li><strong>npm</strong> - if <code>package-lock.json</code> exists</li>
							</ol>
							<h3 id="workspace-configuration">
								<a class="header" href="#workspace-configuration">Workspace Configuration</a>
							</h3>
							<p>The tool reads workspace configuration from:</p>
							<div class="table-wrapper">
								<table>
									<thead>
										<tr>
											<th>Package Manager</th>
											<th>Configuration Source</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td><strong>Bun</strong></td>
											<td><code>package.json</code> â†’ <code>workspaces</code> field</td>
										</tr>
										<tr>
											<td><strong>pnpm</strong></td>
											<td><code>pnpm-workspace.yaml</code> â†’ <code>packages</code> field</td>
										</tr>
										<tr>
											<td><strong>npm</strong></td>
											<td><code>package.json</code> â†’ <code>workspaces</code> field</td>
										</tr>
									</tbody>
								</table>
							</div>
							<h2 id="workspace-structure-requirements">
								<a class="header" href="#workspace-structure-requirements"
									>Workspace Structure Requirements</a
								>
							</h2>
							<h3 id="supported-workspace-formats">
								<a class="header" href="#supported-workspace-formats"
									>Supported Workspace Formats</a
								>
							</h3>
							<h4 id="bun-workspaces-1">
								<a class="header" href="#bun-workspaces-1">Bun Workspaces</a>
							</h4>
							<pre><code class="language-json">{
  "name": "my-monorepo",
  "workspaces": ["packages/*", "apps/*"]
}
</code></pre>
							<h4 id="pnpm-workspaces-1">
								<a class="header" href="#pnpm-workspaces-1">pnpm Workspaces</a>
							</h4>
							<pre><code class="language-yaml"># pnpm-workspace.yaml
packages:
  - 'packages/*'
  - 'apps/*'
  - '!**/test/**'
</code></pre>
							<h4 id="npm-workspaces-1">
								<a class="header" href="#npm-workspaces-1">npm Workspaces</a>
							</h4>
							<pre><code class="language-json">{
  "name": "my-monorepo", 
  "workspaces": {
    "packages": ["packages/*", "apps/*"]
  }
}
</code></pre>
							<h2 id="common-configuration-patterns">
								<a class="header" href="#common-configuration-patterns"
									>Common Configuration Patterns</a
								>
							</h2>
							<h3 id="packagejson-scripts-1">
								<a class="header" href="#packagejson-scripts-1">Package.json Scripts</a>
							</h3>
							<p>Add workspace-utils commands to your root <code>package.json</code>:</p>
							<pre><code class="language-json">{
  "scripts": {
    "test": "workspace-utils run test",
    "test:sequential": "workspace-utils run test --sequential",
    "build": "workspace-utils build",
    "build:apps": "workspace-utils build --filter 'apps/*'",
    "dev": "workspace-utils dev",
    "lint": "workspace-utils run lint --concurrency 8",
    "typecheck": "workspace-utils run typecheck --parallel"
  }
}
</code></pre>
							<h3 id="cicd-configuration">
								<a class="header" href="#cicd-configuration">CI/CD Configuration</a>
							</h3>
							<p>Optimize for continuous integration:</p>
							<pre><code class="language-bash"># Lower concurrency for CI resources
workspace-utils run test --concurrency 2

# Sequential builds for predictable resource usage
workspace-utils build --concurrency 1

# Parallel linting for speed
workspace-utils run lint --concurrency 4
</code></pre>
							<h3 id="development-workflow">
								<a class="header" href="#development-workflow">Development Workflow</a>
							</h3>
							<p>Optimize for local development:</p>
							<pre><code class="language-bash"># Start all dev servers
workspace-utils dev

# Run tests with higher concurrency on powerful dev machines
workspace-utils run test --concurrency 8

# Filter to work on specific features
workspace-utils dev --filter "*frontend*"
</code></pre>
							<h2 id="performance-tuning">
								<a class="header" href="#performance-tuning">Performance Tuning</a>
							</h2>
							<h3 id="concurrency-guidelines">
								<a class="header" href="#concurrency-guidelines">Concurrency Guidelines</a>
							</h3>
							<div class="table-wrapper">
								<table>
									<thead>
										<tr>
											<th>Task Type</th>
											<th>Recommended Concurrency</th>
											<th>Reasoning</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td><strong>Tests</strong></td>
											<td>4-8</td>
											<td>Usually I/O bound, can run many</td>
										</tr>
										<tr>
											<td><strong>Builds</strong></td>
											<td>2-4</td>
											<td>CPU intensive, fewer parallel</td>
										</tr>
										<tr>
											<td><strong>Linting</strong></td>
											<td>6-12</td>
											<td>Fast, lightweight processes</td>
										</tr>
										<tr>
											<td><strong>Dev servers</strong></td>
											<td>2-6</td>
											<td>Resource intensive, long-running</td>
										</tr>
									</tbody>
								</table>
							</div>
							<h3 id="system-resources">
								<a class="header" href="#system-resources">System Resources</a>
							</h3>
							<p>Consider your system when setting concurrency:</p>
							<pre><code class="language-bash"># For 4-core machines
workspace-utils run build --concurrency 2

# For 8+ core machines  
workspace-utils run test --concurrency 8

# For CI with limited resources
workspace-utils run lint --concurrency 2
</code></pre>
							<h2 id="filtering-patterns">
								<a class="header" href="#filtering-patterns">Filtering Patterns</a>
							</h2>
							<h3 id="glob-patterns"><a class="header" href="#glob-patterns">Glob Patterns</a></h3>
							<p>workspace-utils supports standard glob patterns:</p>
							<div class="table-wrapper">
								<table>
									<thead>
										<tr>
											<th>Pattern</th>
											<th>Matches</th>
											<th>Example</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td><code>@scope/*</code></td>
											<td>All packages in scope</td>
											<td><code>@company/utils</code>, <code>@company/ui</code></td>
										</tr>
										<tr>
											<td><code>apps/*</code></td>
											<td>All packages in apps directory</td>
											<td><code>apps/web</code>, <code>apps/mobile</code></td>
										</tr>
										<tr>
											<td><code>*-utils</code></td>
											<td>Packages ending with -utils</td>
											<td><code>date-utils</code>, <code>string-utils</code></td>
										</tr>
										<tr>
											<td><code>*frontend*</code></td>
											<td>Packages containing frontend</td>
											<td><code>my-frontend-app</code>, <code>frontend-utils</code></td>
										</tr>
									</tbody>
								</table>
							</div>
							<h3 id="multiple-filters">
								<a class="header" href="#multiple-filters">Multiple Filters</a>
							</h3>
							<p>Use multiple invocations for complex filtering:</p>
							<pre><code class="language-bash"># Run tests on backend packages only
workspace-utils run test --filter "@company/backend-*"

# Build all apps and shared libraries
workspace-utils build --filter "apps/*"
workspace-utils build --filter "@company/shared-*"
</code></pre>
							<h2 id="error-handling-configuration">
								<a class="header" href="#error-handling-configuration"
									>Error Handling Configuration</a
								>
							</h2>
							<h3 id="exit-behavior"><a class="header" href="#exit-behavior">Exit Behavior</a></h3>
							<p>workspace-utils has different exit behaviors by command:</p>
							<div class="table-wrapper">
								<table>
									<thead>
										<tr>
											<th>Command</th>
											<th>Failure Behavior</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td><code>run</code> (parallel)</td>
											<td>Continue other packages, exit 1 if any failed</td>
										</tr>
										<tr>
											<td><code>run</code> (sequential)</td>
											<td>Stop on first failure, exit with that code</td>
										</tr>
										<tr>
											<td><code>build</code></td>
											<td>Stop current batch on failure, skip remaining</td>
										</tr>
										<tr>
											<td><code>dev</code></td>
											<td>Stop all servers on any failure</td>
										</tr>
									</tbody>
								</table>
							</div>
							<h3 id="error-codes"><a class="header" href="#error-codes">Error Codes</a></h3>
							<div class="table-wrapper">
								<table>
									<thead>
										<tr>
											<th>Exit Code</th>
											<th>Meaning</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td><code>0</code></td>
											<td>All operations successful</td>
										</tr>
										<tr>
											<td><code>1</code></td>
											<td>One or more package operations failed</td>
										</tr>
										<tr>
											<td><code>2</code></td>
											<td>Configuration or workspace detection error</td>
										</tr>
									</tbody>
								</table>
							</div>
							<h2 id="next-steps-1"><a class="header" href="#next-steps-1">Next Steps</a></h2>
							<ul>
								<li>
									Learn about <a href="./concepts/workspace-detection.html">Workspace Detection</a>
								</li>
								<li>
									Explore <a href="./concepts/package-managers.html">Package Manager Support</a>
								</li>
								<li>
									See <a href="./advanced/performance.html">Performance Tuning</a> for optimization
									tips
								</li>
							</ul>
							<div style="break-before: page; page-break-before: always"></div>
							<h1 id="commands-overview">
								<a class="header" href="#commands-overview">Commands Overview</a>
							</h1>
							<p>
								workspace-utils provides three main commands designed to handle different aspects of
								monorepo workflow management. Each command is optimized for specific use cases while
								sharing common functionality like package filtering and concurrency control.
							</p>
							<h2 id="command-summary">
								<a class="header" href="#command-summary">Command Summary</a>
							</h2>
							<div class="table-wrapper">
								<table>
									<thead>
										<tr>
											<th>Command</th>
											<th>Purpose</th>
											<th>Default Mode</th>
											<th>Use Case</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td>
												<a href="commands/./run.html"><code>run</code></a>
											</td>
											<td>Execute scripts across packages</td>
											<td><strong>Parallel</strong></td>
											<td>Tests, linting, custom scripts</td>
										</tr>
										<tr>
											<td>
												<a href="commands/./build.html"><code>build</code></a>
											</td>
											<td>Build packages respecting dependencies</td>
											<td><strong>Dependency order</strong></td>
											<td>Production builds, CI/CD</td>
										</tr>
										<tr>
											<td>
												<a href="commands/./dev.html"><code>dev</code></a>
											</td>
											<td>Start development servers</td>
											<td><strong>Parallel</strong></td>
											<td>Local development</td>
										</tr>
									</tbody>
								</table>
							</div>
							<h2 id="quick-reference">
								<a class="header" href="#quick-reference">Quick Reference</a>
							</h2>
							<h3 id="wsu-run"><a class="header" href="#wsu-run">wsu run</a></h3>
							<pre><code class="language-bash">wsu run &lt;script&gt; [options]
</code></pre>
							<p>
								Execute any script across multiple packages in parallel (by default) or
								sequentially.
							</p>
							<p><strong>Package.json setup:</strong></p>
							<pre><code class="language-json">{
  "scripts": {
    "test": "wsu run test",
    "lint": "wsu run lint --sequential",
    "typecheck": "wsu run typecheck --concurrency 8"
  }
}
</code></pre>
							<p><strong>Usage:</strong></p>
							<pre><code class="language-bash">npm run test       # Run tests in parallel
npm run lint       # Run linting sequentially  
npm run typecheck  # Custom concurrency
</code></pre>
							<h3 id="wsu-build"><a class="header" href="#wsu-build">wsu build</a></h3>
							<pre><code class="language-bash">wsu build [options]
</code></pre>
							<p>
								Build packages in dependency order using topological sorting. Packages are built in
								batches where each batch can run in parallel.
							</p>
							<p><strong>Package.json setup:</strong></p>
							<pre><code class="language-json">{
  "scripts": {
    "build": "wsu build",
    "build:apps": "wsu build --filter 'apps/*'",
    "build:slow": "wsu build --concurrency 2"
  }
}
</code></pre>
							<p><strong>Usage:</strong></p>
							<pre><code class="language-bash">npm run build       # Build all packages
npm run build:apps  # Build only apps
npm run build:slow  # Limit batch concurrency
</code></pre>
							<h3 id="wsu-dev"><a class="header" href="#wsu-dev">wsu dev</a></h3>
							<pre><code class="language-bash">wsu dev [options]
</code></pre>
							<p>
								Start development servers with live log streaming. Designed for long-running
								processes with real-time output.
							</p>
							<p><strong>Package.json setup:</strong></p>
							<pre><code class="language-json">{
  "scripts": {
    "dev": "wsu dev",
    "dev:scope": "wsu dev --filter '@scope/*'",
    "dev:limited": "wsu dev --concurrency 3"
  }
}
</code></pre>
							<p><strong>Usage:</strong></p>
							<pre><code class="language-bash">npm run dev         # Start all dev servers
npm run dev:scope   # Start scoped packages
npm run dev:limited # Limit concurrent servers
</code></pre>
							<h2 id="global-options-1">
								<a class="header" href="#global-options-1">Global Options</a>
							</h2>
							<p>All commands support these common options:</p>
							<h3 id="filtering"><a class="header" href="#filtering">Filtering</a></h3>
							<ul>
								<li><code>--filter &lt;pattern&gt;</code> - Filter packages using glob patterns</li>
								<li>
									Examples: <code>"@scope/*"</code>, <code>"apps/*"</code>, <code>"*-utils"</code>,
									<code>"*frontend*"</code>
								</li>
							</ul>
							<h3 id="concurrency"><a class="header" href="#concurrency">Concurrency</a></h3>
							<ul>
								<li>
									<code>--concurrency &lt;number&gt;</code> - Maximum concurrent processes (default:
									4)
								</li>
								<li>Applies to parallel execution and batch processing</li>
							</ul>
							<h3 id="help"><a class="header" href="#help">Help</a></h3>
							<ul>
								<li><code>--help</code> - Show command-specific help and options</li>
							</ul>
							<h2 id="execution-modes">
								<a class="header" href="#execution-modes">Execution Modes</a>
							</h2>
							<h3 id="parallel-execution">
								<a class="header" href="#parallel-execution">Parallel Execution</a>
							</h3>
							<p>
								<strong>Used by:</strong> <code>run</code> (default), <code>dev</code>
								<strong>Behavior:</strong> All matching packages execute simultaneously
								<strong>Best for:</strong> Tests, linting, development servers
							</p>
							<pre><code class="language-bash">npm run test  # with "test": "wsu run test" in package.json
# âœ… Runs tests in all packages at the same time
</code></pre>
							<h3 id="sequential-execution">
								<a class="header" href="#sequential-execution">Sequential Execution</a>
							</h3>
							<p>
								<strong>Used by:</strong> <code>run</code> (with --sequential flag)
								<strong>Behavior:</strong> Packages execute one after another
								<strong>Best for:</strong> Resource-intensive tasks, ordered operations
							</p>
							<pre><code class="language-bash">npm run build:sequential  # with "build:sequential": "wsu run build --sequential"
# âœ… Runs builds one package at a time
</code></pre>
							<h3 id="dependency-aware-execution">
								<a class="header" href="#dependency-aware-execution">Dependency-Aware Execution</a>
							</h3>
							<p>
								<strong>Used by:</strong> <code>build</code> <strong>Behavior:</strong> Packages are
								grouped into batches based on dependencies <strong>Best for:</strong> Building,
								publishing, dependency-critical operations
							</p>
							<pre><code class="language-bash">npm run build  # with "build": "wsu build" in package.json
# âœ… Builds dependencies first, then dependents
</code></pre>
							<h2 id="package-manager-detection-1">
								<a class="header" href="#package-manager-detection-1">Package Manager Detection</a>
							</h2>
							<p>workspace-utils automatically detects your package manager:</p>
							<div class="table-wrapper">
								<table>
									<thead>
										<tr>
											<th>Package Manager</th>
											<th>Detection Criteria</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td><strong>Bun</strong></td>
											<td>
												<code>bun.lockb</code>, <code>bunfig.toml</code>, or bun-specific
												<code>package.json</code> fields
											</td>
										</tr>
										<tr>
											<td><strong>pnpm</strong></td>
											<td><code>pnpm-lock.yaml</code>, <code>pnpm-workspace.yaml</code></td>
										</tr>
										<tr>
											<td><strong>npm</strong></td>
											<td><code>package-lock.json</code>, <code>.npmrc</code></td>
										</tr>
									</tbody>
								</table>
							</div>
							<p>
								The detected package manager is used for all script execution (e.g.,
								<code>bun run test</code>, <code>pnpm run test</code>, <code>npm run test</code>).
							</p>
							<h2 id="error-handling">
								<a class="header" href="#error-handling">Error Handling</a>
							</h2>
							<h3 id="exit-behavior-1">
								<a class="header" href="#exit-behavior-1">Exit Behavior</a>
							</h3>
							<ul>
								<li>
									<strong>Single failure in parallel mode:</strong> Other packages continue running
								</li>
								<li>
									<strong>Single failure in sequential mode:</strong> Execution stops immediately
								</li>
								<li>
									<strong>Single failure in build mode:</strong> Current batch fails, subsequent
									batches are skipped
								</li>
							</ul>
							<h3 id="exit-codes"><a class="header" href="#exit-codes">Exit Codes</a></h3>
							<ul>
								<li><code>0</code> - All packages executed successfully</li>
								<li><code>1</code> - One or more packages failed</li>
								<li><code>2</code> - Configuration or setup error</li>
							</ul>
							<h2 id="output-format"><a class="header" href="#output-format">Output Format</a></h2>
							<p>All commands provide consistent, color-coded output:</p>
							<pre><code>ğŸš€ Starting operation...
ğŸ“ Workspace root: /path/to/workspace
ğŸ“¦ Found X packages
âœ… Running "script" in Y packages
ğŸ”§ Package manager: detected-pm
âš¡ Execution mode: parallel/sequential/dependency-order

[package-1] Starting: pm run script
[package-2] Starting: pm run script
[package-1] âœ… Completed in 1,234ms
[package-2] âŒ Failed with exit code 1

ğŸ“Š Execution Summary:
âœ… Successful: 1
âŒ Failed: 1
â±ï¸  Total duration: 2,345ms
</code></pre>
							<h2 id="best-practices">
								<a class="header" href="#best-practices">Best Practices</a>
							</h2>
							<h3 id="choose-the-right-command">
								<a class="header" href="#choose-the-right-command">Choose the Right Command</a>
							</h3>
							<ul>
								<li>
									<strong><code>run</code></strong> for most script execution (tests, linting,
									utilities)
								</li>
								<li>
									<strong><code>build</code></strong> when package dependencies matter
								</li>
								<li>
									<strong><code>dev</code></strong> for long-running development processes
								</li>
							</ul>
							<h3 id="use-filtering-effectively">
								<a class="header" href="#use-filtering-effectively">Use Filtering Effectively</a>
							</h3>
							<pre><code class="language-json">{
  "scripts": {
    "test:packages": "wsu run test --filter 'packages/*'",
    "dev:apps": "wsu dev --filter 'apps/*'",
    "build:company": "wsu build --filter '@company/*'"
  }
}
</code></pre>
							<h3 id="optimize-concurrency">
								<a class="header" href="#optimize-concurrency">Optimize Concurrency</a>
							</h3>
							<pre><code class="language-json">{
  "scripts": {
    "build:slow": "wsu run build --concurrency 2",
    "test:fast": "wsu run test --concurrency 8",
    "dev": "wsu dev --concurrency 4"
  }
}
</code></pre>
							<h2 id="next-steps-2"><a class="header" href="#next-steps-2">Next Steps</a></h2>
							<p>Dive deeper into each command:</p>
							<ul>
								<li>
									<a href="commands/./run.html"><strong>run command</strong></a> - Detailed script
									execution options
								</li>
								<li>
									<a href="commands/./build.html"><strong>build command</strong></a> -
									Dependency-aware building
								</li>
								<li>
									<a href="commands/./dev.html"><strong>dev command</strong></a> - Development
									server management
								</li>
							</ul>
							<div style="break-before: page; page-break-before: always"></div>
							<h1 id="run-command-1"><a class="header" href="#run-command-1">run Command</a></h1>
							<p>
								The <code>run</code> command executes scripts across multiple packages in your
								workspace, with parallel execution by default.
							</p>
							<h2 id="recommended-usage">
								<a class="header" href="#recommended-usage">Recommended Usage</a>
							</h2>
							<p>Add to your <code>package.json</code> scripts:</p>
							<pre><code class="language-json">{
  "scripts": {
    "test": "wsu run test",
    "lint": "wsu run lint",
    "typecheck": "wsu run typecheck"
  }
}
</code></pre>
							<p>Then run:</p>
							<pre><code class="language-bash">npm run test     # Run tests across packages
npm run lint     # Run linting across packages  
npm run typecheck # Run type checking across packages
</code></pre>
							<h2 id="direct-usage-if-needed">
								<a class="header" href="#direct-usage-if-needed">Direct Usage (if needed)</a>
							</h2>
							<pre><code class="language-bash">wsu run &lt;script&gt; [options]
</code></pre>
							<h2 id="arguments"><a class="header" href="#arguments">Arguments</a></h2>
							<ul>
								<li>
									<code>&lt;script&gt;</code> - The npm script name to execute (e.g.,
									<code>test</code>, <code>lint</code>, <code>build</code>)
								</li>
							</ul>
							<h2 id="options"><a class="header" href="#options">Options</a></h2>
							<div class="table-wrapper">
								<table>
									<thead>
										<tr>
											<th>Option</th>
											<th>Description</th>
											<th>Default</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td><code>--filter &lt;pattern&gt;</code></td>
											<td>Filter packages by glob pattern</td>
											<td>All packages</td>
										</tr>
										<tr>
											<td><code>--concurrency &lt;number&gt;</code></td>
											<td>Max concurrent processes</td>
											<td><code>4</code></td>
										</tr>
										<tr>
											<td><code>--sequential</code></td>
											<td>Run sequentially instead of parallel</td>
											<td><code>false</code></td>
										</tr>
									</tbody>
								</table>
							</div>
							<h2 id="examples"><a class="header" href="#examples">Examples</a></h2>
							<h3 id="basic-usage"><a class="header" href="#basic-usage">Basic Usage</a></h3>
							<p>Add scripts to your <code>package.json</code>:</p>
							<pre><code class="language-json">{
  "scripts": {
    "test": "wsu run test",
    "test:sequential": "wsu run test --sequential",
    "lint": "wsu run lint --concurrency 8"
  }
}
</code></pre>
							<p>Then run:</p>
							<pre><code class="language-bash">npm run test            # Run tests in parallel (default)
npm run test:sequential # Run tests sequentially  
npm run lint            # Run linting with custom concurrency
</code></pre>
							<h3 id="package-filtering">
								<a class="header" href="#package-filtering">Package Filtering</a>
							</h3>
							<p>Add filtered scripts to your <code>package.json</code>:</p>
							<pre><code class="language-json">{
  "scripts": {
    "test:company": "wsu run test --filter '@company/*'",
    "dev:apps": "wsu run dev --filter 'apps/*'",
    "build:backend": "wsu run build --filter '*backend*'"
  }
}
</code></pre>
							<p>Then run:</p>
							<pre><code class="language-bash">npm run test:company   # Run tests for scoped packages
npm run dev:apps       # Run dev scripts for apps only
npm run build:backend  # Run builds for backend packages
</code></pre>
							<h3 id="example-output">
								<a class="header" href="#example-output">Example Output</a>
							</h3>
							<pre><code>ğŸš€ Running script "test" across packages...

ğŸ“¦ Found 3 packages
âœ… Running "test" in 3 packages:
  â€¢ @company/utils
  â€¢ @company/ui-components  
  â€¢ apps/web-app

ğŸ”§ Package manager: pnpm
âš¡ Execution mode: parallel (concurrency: 4)

[@company/utils] Starting: pnpm run test
[@company/ui-components] Starting: pnpm run test
[apps/web-app] Starting: pnpm run test
[@company/utils] âœ… Completed in 1,234ms
[@company/ui-components] âœ… Completed in 2,456ms
[apps/web-app] âœ… Completed in 3,789ms

ğŸ“Š Execution Summary:
âœ… Successful: 3
â±ï¸  Total duration: 3,789ms
</code></pre>
							<h2 id="execution-modes-1">
								<a class="header" href="#execution-modes-1">Execution Modes</a>
							</h2>
							<h3 id="parallel-default">
								<a class="header" href="#parallel-default">Parallel (Default)</a>
							</h3>
							<ul>
								<li>Runs all packages simultaneously</li>
								<li>Faster for I/O bound tasks like tests and linting</li>
								<li>Other packages continue if one fails</li>
							</ul>
							<h3 id="sequential"><a class="header" href="#sequential">Sequential</a></h3>
							<ul>
								<li>Runs packages one at a time</li>
								<li>Stops on first failure</li>
								<li>Better for resource-intensive tasks</li>
							</ul>
							<h2 id="when-to-use"><a class="header" href="#when-to-use">When to Use</a></h2>
							<ul>
								<li><strong>Tests</strong> - Parallel execution for fast feedback</li>
								<li><strong>Linting</strong> - High concurrency for quick checks</li>
								<li><strong>Type checking</strong> - Parallel across packages</li>
								<li><strong>Custom scripts</strong> - Any script that exists in package.json</li>
							</ul>
							<h2 id="packagejson-integration">
								<a class="header" href="#packagejson-integration">Package.json Integration</a>
							</h2>
							<p>Add common patterns to your root <code>package.json</code>:</p>
							<pre><code class="language-json">{
  "scripts": {
    "test": "wsu run test",
    "test:watch": "wsu run test:watch",
    "lint": "wsu run lint --concurrency 8", 
    "lint:fix": "wsu run lint:fix",
    "typecheck": "wsu run typecheck",
    "clean": "wsu run clean --sequential"
  }
}
</code></pre>
							<div style="break-before: page; page-break-before: always"></div>
							<h1 id="build-command-1">
								<a class="header" href="#build-command-1">build Command</a>
							</h1>
							<p>
								The <code>build</code> command builds packages in dependency order, ensuring that
								dependencies are built before their dependents.
							</p>
							<h2 id="recommended-usage-1">
								<a class="header" href="#recommended-usage-1">Recommended Usage</a>
							</h2>
							<p>Add to your <code>package.json</code> scripts:</p>
							<pre><code class="language-json">{
  "scripts": {
    "build": "wsu build",
    "build:apps": "wsu build --filter 'apps/*'",
    "build:slow": "wsu build --concurrency 2"
  }
}
</code></pre>
							<p>Then run:</p>
							<pre><code class="language-bash">npm run build      # Build all packages in dependency order
npm run build:apps # Build only apps
npm run build:slow # Build with limited concurrency
</code></pre>
							<h2 id="direct-usage-if-needed-1">
								<a class="header" href="#direct-usage-if-needed-1">Direct Usage (if needed)</a>
							</h2>
							<pre><code class="language-bash">wsu build [options]
</code></pre>
							<h2 id="how-it-works"><a class="header" href="#how-it-works">How it Works</a></h2>
							<ol>
								<li>
									<strong>Analyzes dependencies</strong> - Reads <code>package.json</code> files to
									understand package relationships
								</li>
								<li>
									<strong>Creates build batches</strong> - Groups packages that can be built in
									parallel
								</li>
								<li>
									<strong>Executes in order</strong> - Runs builds batch by batch, respecting
									dependencies
								</li>
							</ol>
							<h2 id="options-1"><a class="header" href="#options-1">Options</a></h2>
							<div class="table-wrapper">
								<table>
									<thead>
										<tr>
											<th>Option</th>
											<th>Description</th>
											<th>Default</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td><code>--filter &lt;pattern&gt;</code></td>
											<td>Filter packages by glob pattern</td>
											<td>All packages</td>
										</tr>
										<tr>
											<td><code>--concurrency &lt;number&gt;</code></td>
											<td>Max concurrent builds per batch</td>
											<td><code>4</code></td>
										</tr>
									</tbody>
								</table>
							</div>
							<h2 id="examples-1"><a class="header" href="#examples-1">Examples</a></h2>
							<h3 id="basic-usage-1"><a class="header" href="#basic-usage-1">Basic Usage</a></h3>
							<p>Add scripts to your <code>package.json</code>:</p>
							<pre><code class="language-json">{
  "scripts": {
    "build": "wsu build",
    "build:apps": "wsu build --filter 'apps/*'",
    "build:limited": "wsu build --concurrency 2"
  }
}
</code></pre>
							<p>Then run:</p>
							<pre><code class="language-bash">npm run build         # Build all packages in dependency order
npm run build:apps    # Build only apps
npm run build:limited # Build with limited concurrency
</code></pre>
							<h3 id="example-output-1">
								<a class="header" href="#example-output-1">Example Output</a>
							</h3>
							<pre><code>ğŸ—ï¸  Building packages in dependency order...

ğŸ“Š Building dependency graph...
âœ… Build order determined: 3 batches

ğŸ“‹ Build Plan:
  Batch 1: @company/utils
  Batch 2: @company/ui-components, @company/api-client  
  Batch 3: apps/web-app

ğŸ”§ Package manager: pnpm
âš¡ Batch concurrency: 4

ğŸ”„ Running batch 1/3 (1 packages)
[@company/utils] âœ… Completed in 2,000ms

ğŸ”„ Running batch 2/3 (2 packages)  
[@company/ui-components] âœ… Completed in 3,000ms
[@company/api-client] âœ… Completed in 2,500ms

ğŸ”„ Running batch 3/3 (1 packages)
[apps/web-app] âœ… Completed in 4,000ms

ğŸ‰ All packages built successfully!
</code></pre>
							<h2 id="when-to-use-1"><a class="header" href="#when-to-use-1">When to Use</a></h2>
							<ul>
								<li><strong>Production builds</strong> - When dependency order matters</li>
								<li><strong>CI/CD pipelines</strong> - Reliable, predictable builds</li>
								<li><strong>Publishing</strong> - Ensure dependencies are built first</li>
								<li><strong>Clean builds</strong> - Start from scratch with proper ordering</li>
							</ul>
							<h2 id="error-handling-1">
								<a class="header" href="#error-handling-1">Error Handling</a>
							</h2>
							<ul>
								<li>If a package fails, the current batch stops</li>
								<li>Subsequent batches are skipped</li>
								<li>Exit code is non-zero if any builds fail</li>
							</ul>
							<div style="break-before: page; page-break-before: always"></div>
							<h1 id="dev-command-1"><a class="header" href="#dev-command-1">dev Command</a></h1>
							<p>
								The <code>dev</code> command starts development servers across multiple packages
								with live log streaming and graceful shutdown.
							</p>
							<h2 id="recommended-usage-2">
								<a class="header" href="#recommended-usage-2">Recommended Usage</a>
							</h2>
							<p>Add to your <code>package.json</code> scripts:</p>
							<pre><code class="language-json">{
  "scripts": {
    "dev": "wsu dev",
    "dev:apps": "wsu dev --filter 'apps/*'",
    "dev:limited": "wsu dev --concurrency 2"
  }
}
</code></pre>
							<p>Then run:</p>
							<pre><code class="language-bash">npm run dev         # Start all dev servers
npm run dev:apps    # Start only frontend packages
npm run dev:limited # Limit concurrent servers
</code></pre>
							<h2 id="direct-usage-if-needed-2">
								<a class="header" href="#direct-usage-if-needed-2">Direct Usage (if needed)</a>
							</h2>
							<pre><code class="language-bash">wsu dev [options]
</code></pre>
							<h2 id="how-it-works-1"><a class="header" href="#how-it-works-1">How it Works</a></h2>
							<ol>
								<li><strong>Finds packages</strong> with <code>dev</code> scripts</li>
								<li><strong>Starts servers</strong> in parallel with live log streaming</li>
								<li><strong>Color-codes output</strong> for easy identification</li>
								<li><strong>Handles shutdown</strong> gracefully when you press Ctrl+C</li>
							</ol>
							<h2 id="options-2"><a class="header" href="#options-2">Options</a></h2>
							<div class="table-wrapper">
								<table>
									<thead>
										<tr>
											<th>Option</th>
											<th>Description</th>
											<th>Default</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td><code>--filter &lt;pattern&gt;</code></td>
											<td>Filter packages by glob pattern</td>
											<td>All packages</td>
										</tr>
										<tr>
											<td><code>--concurrency &lt;number&gt;</code></td>
											<td>Max concurrent dev servers</td>
											<td><code>4</code></td>
										</tr>
									</tbody>
								</table>
							</div>
							<h2 id="examples-2"><a class="header" href="#examples-2">Examples</a></h2>
							<h3 id="basic-usage-2"><a class="header" href="#basic-usage-2">Basic Usage</a></h3>
							<p>Add scripts to your <code>package.json</code>:</p>
							<pre><code class="language-json">{
  "scripts": {
    "dev": "wsu dev",
    "dev:frontend": "wsu dev --filter 'apps/*'",
    "dev:limited": "wsu dev --concurrency 2"
  }
}
</code></pre>
							<p>Then run:</p>
							<pre><code class="language-bash">npm run dev          # Start all dev servers
npm run dev:frontend # Start only frontend packages
npm run dev:limited  # Limit concurrent servers
</code></pre>
							<h3 id="example-output-2">
								<a class="header" href="#example-output-2">Example Output</a>
							</h3>
							<pre><code>ğŸš€ Starting development servers with live log streaming...

âœ… Starting dev servers for 3 packages:
  â€¢ @company/ui-components
  â€¢ apps/web-app
  â€¢ apps/mobile-app

ğŸ”§ Package manager: npm
âš¡ Running 3 dev servers simultaneously
ğŸ’¡ Tip: Use Ctrl+C to stop all development servers

ğŸ¬ Starting development servers...

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[@company/ui-components] Starting: npm run dev
[apps/web-app] Starting: npm run dev
[apps/mobile-app] Starting: npm run dev
[@company/ui-components] Server running on http://localhost:6006
[apps/web-app] Server running on http://localhost:3000
[apps/mobile-app] Expo running on http://localhost:19000
[@company/ui-components] Hot reload enabled
[apps/web-app] Hot reload enabled
...
</code></pre>
							<h2 id="features"><a class="header" href="#features">Features</a></h2>
							<ul>
								<li><strong>Live log streaming</strong> - See real-time output from all servers</li>
								<li><strong>Color-coded prefixes</strong> - Each package has its own color</li>
								<li><strong>Graceful shutdown</strong> - Ctrl+C stops all servers cleanly</li>
								<li><strong>No timestamps</strong> - Clean output focused on development</li>
							</ul>
							<h2 id="when-to-use-2"><a class="header" href="#when-to-use-2">When to Use</a></h2>
							<ul>
								<li><strong>Local development</strong> - Start all services at once</li>
								<li>
									<strong>Full-stack development</strong> - Frontend, backend, and services together
								</li>
								<li><strong>Debugging</strong> - See logs from multiple packages simultaneously</li>
								<li><strong>Team development</strong> - Consistent development environment</li>
							</ul>
							<h2 id="tips"><a class="header" href="#tips">Tips</a></h2>
							<ul>
								<li>Use filtering to start only the packages you're working on</li>
								<li>Keep concurrency reasonable to avoid overwhelming your system</li>
								<li>Each package gets a unique color for easy log identification</li>
								<li>Press Ctrl+C once to gracefully stop all servers</li>
							</ul>
							<div style="break-before: page; page-break-before: always"></div>
							<h1 id="examples-3"><a class="header" href="#examples-3">Examples</a></h1>
							<p>
								This page provides comprehensive examples of using workspace-utils in real-world
								scenarios. Each example includes the monorepo structure, commands, and expected
								output.
							</p>
							<h2 id="example-1-full-stack-javascript-application">
								<a class="header" href="#example-1-full-stack-javascript-application"
									>Example 1: Full-Stack JavaScript Application</a
								>
							</h2>
							<h3 id="project-structure">
								<a class="header" href="#project-structure">Project Structure</a>
							</h3>
							<pre><code>my-fullstack-app/
â”œâ”€â”€ package.json (workspaces)
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ shared-types/      # TypeScript definitions
â”‚   â”œâ”€â”€ ui-components/     # React component library
â”‚   â”œâ”€â”€ api-client/        # REST API client
â”‚   â””â”€â”€ utils/             # Shared utilities
â””â”€â”€ apps/
    â”œâ”€â”€ web-app/           # Next.js frontend
    â”œâ”€â”€ mobile-app/        # React Native
    â””â”€â”€ api-server/        # Express.js backend
</code></pre>
							<h3 id="common-workflows">
								<a class="header" href="#common-workflows">Common Workflows</a>
							</h3>
							<h4 id="run-all-tests"><a class="header" href="#run-all-tests">Run All Tests</a></h4>
							<p>Add to your <code>package.json</code>:</p>
							<pre><code class="language-json">{
  "scripts": {
    "test": "wsu run test"
  }
}
</code></pre>
							<p>Then run:</p>
							<pre><code class="language-bash">npm run test
</code></pre>
							<p><strong>Output:</strong></p>
							<pre><code>ğŸš€ Running script "test" across packages...

ğŸ“¦ Found 7 packages
âœ… Running "test" in 6 packages:
  â€¢ packages/shared-types
  â€¢ packages/ui-components
  â€¢ packages/api-client
  â€¢ packages/utils
  â€¢ apps/web-app
  â€¢ apps/api-server

ğŸ”§ Package manager: pnpm
âš¡ Execution mode: parallel (concurrency: 4)

[packages/utils] âœ… Completed in 1,200ms
[packages/shared-types] âœ… Completed in 800ms
[packages/api-client] âœ… Completed in 2,100ms
[packages/ui-components] âœ… Completed in 3,400ms
[apps/api-server] âœ… Completed in 2,800ms
[apps/web-app] âœ… Completed in 4,200ms

ğŸ“Š Execution Summary:
âœ… Successful: 6
â±ï¸  Total duration: 4,200ms
</code></pre>
							<h4 id="build-everything-in-dependency-order">
								<a class="header" href="#build-everything-in-dependency-order"
									>Build Everything in Dependency Order</a
								>
							</h4>
							<p>Add to your <code>package.json</code>:</p>
							<pre><code class="language-json">{
  "scripts": {
    "build": "wsu build"
  }
}
</code></pre>
							<p>Then run:</p>
							<pre><code class="language-bash">npm run build
</code></pre>
							<p><strong>Output:</strong></p>
							<pre><code>ğŸ—ï¸  Building packages in dependency order...

ğŸ“Š Building dependency graph...
âœ… Build order determined: 4 batches

ğŸ“‹ Build Plan:
  Batch 1: packages/shared-types, packages/utils
  Batch 2: packages/ui-components, packages/api-client
  Batch 3: apps/api-server
  Batch 4: apps/web-app, apps/mobile-app

ğŸ”§ Package manager: pnpm
âš¡ Batch concurrency: 4

ğŸ”„ Running batch 1/4 (2 packages)
[packages/shared-types] âœ… Completed in 1,500ms
[packages/utils] âœ… Completed in 1,200ms

ğŸ”„ Running batch 2/4 (2 packages)
[packages/ui-components] âœ… Completed in 8,900ms
[packages/api-client] âœ… Completed in 3,200ms

ğŸ”„ Running batch 3/4 (1 packages)
[apps/api-server] âœ… Completed in 4,100ms

ğŸ”„ Running batch 4/4 (2 packages)
[apps/web-app] âœ… Completed in 12,300ms
[apps/mobile-app] âœ… Completed in 8,700ms

ğŸ‰ All packages built successfully!
</code></pre>
							<h4 id="start-development-environment">
								<a class="header" href="#start-development-environment"
									>Start Development Environment</a
								>
							</h4>
							<p>Add to your <code>package.json</code>:</p>
							<pre><code class="language-json">{
  "scripts": {
    "dev": "wsu dev"
  }
}
</code></pre>
							<p>Then run:</p>
							<pre><code class="language-bash">npm run dev
</code></pre>
							<p><strong>Output:</strong></p>
							<pre><code>ğŸš€ Starting development servers with live log streaming...

âœ… Starting dev servers for 4 packages:
  â€¢ packages/ui-components
  â€¢ apps/web-app
  â€¢ apps/mobile-app
  â€¢ apps/api-server

ğŸ”§ Package manager: pnpm
âš¡ Running 4 dev servers simultaneously
ğŸ’¡ Tip: Use Ctrl+C to stop all development servers

[packages/ui-components] Storybook running on http://localhost:6006
[apps/api-server] Server running on http://localhost:4000
[apps/web-app] Next.js running on http://localhost:3000
[apps/mobile-app] Expo running on http://localhost:19000
[apps/web-app] Hot reload enabled
[packages/ui-components] Hot reload enabled
[apps/api-server] Watching for changes...
[apps/mobile-app] Metro bundler started
...
</code></pre>
							<h2 id="example-2-design-system-monorepo">
								<a class="header" href="#example-2-design-system-monorepo"
									>Example 2: Design System Monorepo</a
								>
							</h2>
							<h3 id="project-structure-1">
								<a class="header" href="#project-structure-1">Project Structure</a>
							</h3>
							<pre><code>design-system/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ tokens/            # Design tokens
â”‚   â”œâ”€â”€ icons/             # Icon library
â”‚   â”œâ”€â”€ components/        # React components
â”‚   â”œâ”€â”€ themes/            # Theme definitions
â”‚   â””â”€â”€ utils/             # Design utilities
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ storybook/         # Component documentation
â”‚   â””â”€â”€ playground/        # Component testing
â””â”€â”€ tools/
    â””â”€â”€ build-tools/       # Custom build scripts
</code></pre>
							<h3 id="workflows"><a class="header" href="#workflows">Workflows</a></h3>
							<h4 id="build-design-system">
								<a class="header" href="#build-design-system">Build Design System</a>
							</h4>
							<p>Add to your <code>package.json</code>:</p>
							<pre><code class="language-json">{
  "scripts": {
    "build": "wsu build",
    "build:tokens": "wsu build --filter 'packages/tokens'",
    "build:icons": "wsu build --filter 'packages/icons'",
    "test:visual": "wsu run test:visual --concurrency 2",
    "lint": "wsu run lint --concurrency 8"
  }
}
</code></pre>
							<p>Then run:</p>
							<pre><code class="language-bash">npm run build:tokens  # Build tokens first
npm run build:icons   # Then icons  
npm run build         # Then everything else
npm run test:visual   # Visual regression tests
npm run lint          # Lint all code
</code></pre>
							<h2 id="example-3-microservices-architecture">
								<a class="header" href="#example-3-microservices-architecture"
									>Example 3: Microservices Architecture</a
								>
							</h2>
							<h3 id="project-structure-2">
								<a class="header" href="#project-structure-2">Project Structure</a>
							</h3>
							<pre><code>microservices/
â”œâ”€â”€ shared/
â”‚   â”œâ”€â”€ types/             # Shared TypeScript types
â”‚   â”œâ”€â”€ configs/           # Shared configurations
â”‚   â””â”€â”€ middleware/        # Common middleware
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ auth-service/      # Authentication
â”‚   â”œâ”€â”€ user-service/      # User management
â”‚   â”œâ”€â”€ payment-service/   # Payment processing
â”‚   â”œâ”€â”€ notification-service/ # Notifications
â”‚   â””â”€â”€ gateway-service/   # API Gateway
â””â”€â”€ tools/
    â”œâ”€â”€ docker-compose/    # Container orchestration
    â””â”€â”€ deployment/        # Deployment scripts
</code></pre>
							<h3 id="workflows-1"><a class="header" href="#workflows-1">Workflows</a></h3>
							<h4 id="service-workflows">
								<a class="header" href="#service-workflows">Service Workflows</a>
							</h4>
							<p>Add to your <code>package.json</code>:</p>
							<pre><code class="language-json">{
  "scripts": {
    "test:services": "wsu run test --filter 'services/*'",
    "build:shared": "wsu build --filter 'shared/*'",
    "build:services": "wsu build --filter 'services/*' --sequential",
    "dev:services": "wsu dev --filter 'services/*' --concurrency 6"
  }
}
</code></pre>
							<p>Then run:</p>
							<pre><code class="language-bash">npm run test:services  # Run tests for all services
npm run build:shared   # Build shared libraries first
npm run build:services # Then build all services
npm run dev:services   # Start local development
</code></pre>
							<h2 id="example-4-multi-platform-mobile-app">
								<a class="header" href="#example-4-multi-platform-mobile-app"
									>Example 4: Multi-Platform Mobile App</a
								>
							</h2>
							<h3 id="project-structure-3">
								<a class="header" href="#project-structure-3">Project Structure</a>
							</h3>
							<pre><code>mobile-app/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ core/              # Business logic
â”‚   â”œâ”€â”€ ui/                # Shared UI components
â”‚   â”œâ”€â”€ api/               # API layer
â”‚   â””â”€â”€ utils/             # Utilities
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ ios/               # iOS app
â”‚   â”œâ”€â”€ android/           # Android app
â”‚   â””â”€â”€ web/               # Web version
â””â”€â”€ tools/
    â”œâ”€â”€ build-scripts/     # Platform build tools
    â””â”€â”€ testing/           # Testing utilities
</code></pre>
							<h3 id="platform-specific-workflows">
								<a class="header" href="#platform-specific-workflows"
									>Platform-Specific Workflows</a
								>
							</h3>
							<h4 id="platform-specific-workflows-1">
								<a class="header" href="#platform-specific-workflows-1"
									>Platform-Specific Workflows</a
								>
							</h4>
							<p>Add to your <code>package.json</code>:</p>
							<pre><code class="language-json">{
  "scripts": {
    "dev:ios": "wsu dev --filter 'apps/ios' --filter 'packages/*'",
    "dev:android": "wsu dev --filter 'apps/android' --filter 'packages/*'",
    "test:core": "wsu run test --filter 'packages/*'",
    "test:ios": "wsu run test:ios --filter 'apps/ios'",
    "test:android": "wsu run test:android --filter 'apps/android'"
  }
}
</code></pre>
							<p>Then run:</p>
							<pre><code class="language-bash">npm run dev:ios       # iOS development
npm run dev:android   # Android development
npm run test:core     # Test core logic
npm run test:ios      # Test iOS specifically
npm run test:android  # Test Android specifically
</code></pre>
							<h2 id="example-5-enterprise-library-collection">
								<a class="header" href="#example-5-enterprise-library-collection"
									>Example 5: Enterprise Library Collection</a
								>
							</h2>
							<h3 id="project-structure-4">
								<a class="header" href="#project-structure-4">Project Structure</a>
							</h3>
							<pre><code>enterprise-libs/
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ auth/              # Authentication library
â”‚   â”œâ”€â”€ logging/           # Logging utilities
â”‚   â”œâ”€â”€ validation/        # Data validation
â”‚   â””â”€â”€ storage/           # Storage abstractions
â”œâ”€â”€ ui/
â”‚   â”œâ”€â”€ react-components/  # React component library
â”‚   â”œâ”€â”€ vue-components/    # Vue component library
â”‚   â””â”€â”€ angular-components/ # Angular component library
â””â”€â”€ integrations/
    â”œâ”€â”€ aws-integration/   # AWS utilities
    â”œâ”€â”€ gcp-integration/   # Google Cloud utilities
    â””â”€â”€ azure-integration/ # Azure utilities
</code></pre>
							<h3 id="library-publishing-workflow">
								<a class="header" href="#library-publishing-workflow"
									>Library Publishing Workflow</a
								>
							</h3>
							<h4 id="library-publishing-workflow-1">
								<a class="header" href="#library-publishing-workflow-1"
									>Library Publishing Workflow</a
								>
							</h4>
							<p>Add to your <code>package.json</code>:</p>
							<pre><code class="language-json">{
  "scripts": {
    "test": "wsu run test",
    "build": "wsu build",
    "publish": "wsu run publish --sequential",
    "test:react": "wsu run test --filter '*react*'",
    "test:vue": "wsu run test --filter '*vue*'",
    "test:angular": "wsu run test --filter '*angular*'"
  }
}
</code></pre>
							<p>Then run:</p>
							<pre><code class="language-bash">npm run test          # Run all tests first
npm run build         # Build everything
npm run publish       # Publish packages
npm run test:react    # Test React components
npm run test:vue      # Test Vue components
npm run test:angular  # Test Angular components
</code></pre>
							<h2 id="example-6-documentation-site">
								<a class="header" href="#example-6-documentation-site"
									>Example 6: Documentation Site</a
								>
							</h2>
							<h3 id="project-structure-5">
								<a class="header" href="#project-structure-5">Project Structure</a>
							</h3>
							<pre><code>docs-site/
â”œâ”€â”€ content/
â”‚   â”œâ”€â”€ guides/            # User guides
â”‚   â”œâ”€â”€ api-docs/          # API documentation
â”‚   â””â”€â”€ examples/          # Code examples
â”œâ”€â”€ tools/
â”‚   â”œâ”€â”€ markdown-processor/ # Custom markdown tools
â”‚   â”œâ”€â”€ code-generator/    # Generate code samples
â”‚   â””â”€â”€ link-checker/      # Validate links
â””â”€â”€ sites/
    â”œâ”€â”€ main-site/         # Main documentation
    â”œâ”€â”€ blog/              # Blog site
    â””â”€â”€ api-reference/     # API reference site
</code></pre>
							<h3 id="documentation-workflows">
								<a class="header" href="#documentation-workflows">Documentation Workflows</a>
							</h3>
							<h4 id="documentation-workflows-1">
								<a class="header" href="#documentation-workflows-1">Documentation Workflows</a>
							</h4>
							<p>Add to your <code>package.json</code>:</p>
							<pre><code class="language-json">{
  "scripts": {
    "docs:generate": "wsu run generate --filter 'tools/*'",
    "docs:build": "wsu build --filter 'sites/*'",
    "docs:dev": "wsu dev --filter 'sites/*'",
    "docs:validate": "wsu run validate --filter 'tools/link-checker'",
    "docs:spellcheck": "wsu run spellcheck --sequential"
  }
}
</code></pre>
							<p>Then run:</p>
							<pre><code class="language-bash">npm run docs:generate    # Generate content first
npm run docs:build       # Then build sites
npm run docs:dev         # Development with live reload
npm run docs:validate    # Check links and content
npm run docs:spellcheck  # Spell check
</code></pre>
							<h2 id="filtering-patterns-reference">
								<a class="header" href="#filtering-patterns-reference"
									>Filtering Patterns Reference</a
								>
							</h2>
							<h3 id="scope-based-filtering">
								<a class="header" href="#scope-based-filtering">Scope-Based Filtering</a>
							</h3>
							<p>Add to your <code>package.json</code>:</p>
							<pre><code class="language-json">{
  "scripts": {
    "test:company": "wsu run test --filter '@company/*'",
    "build:internal": "wsu build --filter '@internal/*'"
  }
}
</code></pre>
							<h3 id="directory-based-filtering">
								<a class="header" href="#directory-based-filtering">Directory-Based Filtering</a>
							</h3>
							<pre><code class="language-json">{
  "scripts": {
    "dev:apps": "wsu dev --filter 'apps/*'",
    "lint:packages": "wsu run lint --filter 'packages/*'",
    "build:tools": "wsu run build --filter 'tools/*'"
  }
}
</code></pre>
							<h3 id="name-pattern-filtering">
								<a class="header" href="#name-pattern-filtering">Name Pattern Filtering</a>
							</h3>
							<pre><code class="language-json">{
  "scripts": {
    "test:backend": "wsu run test --filter '*backend*'",
    "dev:frontend": "wsu dev --filter '*frontend*'",
    "build:utils": "wsu build --filter '*utils*'",
    "lint:test": "wsu run lint --filter '*test*'"
  }
}
</code></pre>
							<h3 id="combined-filtering-examples">
								<a class="header" href="#combined-filtering-examples"
									>Combined Filtering Examples</a
								>
							</h3>
							<pre><code class="language-json">{
  "scripts": {
    "test:backend-services": "wsu run test --filter 'services/*backend*'",
    "build:react": "wsu run build --filter '*react*'"
  }
}
</code></pre>
							<h2 id="packagejson-script-patterns">
								<a class="header" href="#packagejson-script-patterns"
									>Package.json Script Patterns</a
								>
							</h2>
							<h3 id="basic-setup"><a class="header" href="#basic-setup">Basic Setup</a></h3>
							<pre><code class="language-json">{
  "scripts": {
    "test": "wsu run test",
    "build": "wsu build", 
    "dev": "wsu dev",
    "lint": "wsu run lint"
  }
}
</code></pre>
							<h3 id="advanced-patterns">
								<a class="header" href="#advanced-patterns">Advanced Patterns</a>
							</h3>
							<pre><code class="language-json">{
  "scripts": {
    "test": "wsu run test",
    "test:watch": "wsu run test:watch",
    "test:coverage": "wsu run test:coverage",
    "build": "wsu build",
    "build:prod": "wsu build --concurrency 2",
    "dev": "wsu dev",
    "dev:apps": "wsu dev --filter 'apps/*'",
    "lint": "wsu run lint --concurrency 8",
    "lint:fix": "wsu run lint:fix",
    "typecheck": "wsu run typecheck",
    "clean": "wsu run clean --sequential"
  }
}
</code></pre>
							<h2 id="performance-optimization-examples">
								<a class="header" href="#performance-optimization-examples"
									>Performance Optimization Examples</a
								>
							</h2>
							<h3 id="resource-constrained-environments">
								<a class="header" href="#resource-constrained-environments"
									>Resource-Constrained Environments</a
								>
							</h3>
							<p>Add to your <code>package.json</code>:</p>
							<pre><code class="language-json">{
  "scripts": {
    "test:ci": "wsu run test --concurrency 1",
    "build:low-mem": "wsu build --concurrency 2",
    "lint:fast": "wsu run lint --concurrency 12"
  }
}
</code></pre>
							<h3 id="high-performance-development">
								<a class="header" href="#high-performance-development"
									>High-Performance Development</a
								>
							</h3>
							<pre><code class="language-json">{
  "scripts": {
    "test:fast": "wsu run test --concurrency 8",
    "build:fast": "wsu build --concurrency 6",
    "typecheck:fast": "wsu run typecheck --concurrency 16"
  }
}
</code></pre>
							<h2 id="troubleshooting-common-scenarios">
								<a class="header" href="#troubleshooting-common-scenarios"
									>Troubleshooting Common Scenarios</a
								>
							</h2>
							<h3 id="mixed-package-managers">
								<a class="header" href="#mixed-package-managers">Mixed Package Managers</a>
							</h3>
							<p>If your monorepo accidentally has mixed lock files:</p>
							<pre><code class="language-bash"># This will fail with clear error message
npm run test

# Clean up mixed lock files first
rm -f package-lock.json yarn.lock  # Keep only pnpm-lock.yaml
npm run test  # Now works
</code></pre>
							<h3 id="missing-scripts">
								<a class="header" href="#missing-scripts">Missing Scripts</a>
							</h3>
							<p>If some packages don't have the script you're trying to run:</p>
							<pre><code class="language-bash"># This automatically skips packages without 'storybook' script
npm run storybook

# Output shows which packages were skipped
# âš ï¸  Skipped 3 packages without 'storybook' script
</code></pre>
							<h3 id="build-dependencies">
								<a class="header" href="#build-dependencies">Build Dependencies</a>
							</h3>
							<p>If builds fail due to missing dependencies:</p>
							<pre><code class="language-bash"># Use build command instead of run for dependency-aware building
npm run build  # âœ… Builds in correct order

# Instead of this which might fail
npm run build:parallel  # âŒ Might fail due to missing dependencies
</code></pre>
							<h2 id="next-steps-3"><a class="header" href="#next-steps-3">Next Steps</a></h2>
							<ul>
								<li>
									Explore <a href="./commands/overview.html">Command Reference</a> for detailed
									options
								</li>
								<li>
									Learn about <a href="./troubleshooting.html">Troubleshooting</a> common issues
								</li>
								<li>
									See <a href="./advanced/patterns.html">Advanced Usage</a> for complex scenarios
								</li>
							</ul>
							<div style="break-before: page; page-break-before: always"></div>
							<h1 id="troubleshooting">
								<a class="header" href="#troubleshooting">Troubleshooting</a>
							</h1>
							<p>
								This page covers common issues you might encounter when using workspace-utils and
								how to resolve them.
							</p>
							<h2 id="installation-issues-1">
								<a class="header" href="#installation-issues-1">Installation Issues</a>
							</h2>
							<h3 id="package-not-found">
								<a class="header" href="#package-not-found">Package Not Found</a>
							</h3>
							<p>If you get errors about workspace-utils not being found:</p>
							<pre><code class="language-bash"># Check if it's installed
npm ls workspace-utils

# If not installed, add it as a dev dependency
npm install --save-dev workspace-utils

# Verify it's in your package.json
cat package.json | grep workspace-utils
</code></pre>
							<h3 id="permission-errors">
								<a class="header" href="#permission-errors">Permission Errors</a>
							</h3>
							<p>If you encounter permission errors:</p>
							<pre><code class="language-bash"># Clear npm cache
npm cache clean --force

# Remove node_modules and reinstall
rm -rf node_modules package-lock.json
npm install
</code></pre>
							<h3 id="version-conflicts">
								<a class="header" href="#version-conflicts">Version Conflicts</a>
							</h3>
							<p>If you have conflicting versions:</p>
							<pre><code class="language-bash"># Check installed version
npm ls workspace-utils

# Update to latest version
npm install --save-dev workspace-utils@latest
</code></pre>
							<h2 id="workspace-detection-issues">
								<a class="header" href="#workspace-detection-issues">Workspace Detection Issues</a>
							</h2>
							<h3 id="no-workspace-found">
								<a class="header" href="#no-workspace-found">No Workspace Found</a>
							</h3>
							<p>If workspace-utils can't detect your workspace:</p>
							<p><strong>Error:</strong> <code>No workspace configuration found</code></p>
							<p><strong>Solution:</strong> Ensure you have one of these files in your root:</p>
							<ul>
								<li><code>pnpm-workspace.yaml</code> (for pnpm)</li>
								<li><code>package.json</code> with <code>workspaces</code> field (for npm/Bun)</li>
							</ul>
							<p><strong>Example for pnpm:</strong></p>
							<pre><code class="language-yaml"># pnpm-workspace.yaml
packages:
  - 'packages/*'
  - 'apps/*'
</code></pre>
							<p><strong>Example for npm/Bun:</strong></p>
							<pre><code class="language-json">{
  "workspaces": ["packages/*", "apps/*"]
}
</code></pre>
							<h3 id="mixed-package-managers-1">
								<a class="header" href="#mixed-package-managers-1">Mixed Package Managers</a>
							</h3>
							<p>If you have multiple lock files:</p>
							<p><strong>Error:</strong> <code>Multiple package managers detected</code></p>
							<p><strong>Solution:</strong> Remove conflicting lock files:</p>
							<pre><code class="language-bash"># Keep only one lock file type
rm package-lock.json yarn.lock  # Keep pnpm-lock.yaml
# OR
rm pnpm-lock.yaml yarn.lock      # Keep package-lock.json
# OR  
rm pnpm-lock.yaml package-lock.json  # Keep yarn.lock
</code></pre>
							<h3 id="wrong-package-manager-detected">
								<a class="header" href="#wrong-package-manager-detected"
									>Wrong Package Manager Detected</a
								>
							</h3>
							<p>If the wrong package manager is detected:</p>
							<p><strong>Check detection logic:</strong></p>
							<ol>
								<li>Bun: <code>bun.lockb</code> exists</li>
								<li>
									pnpm: <code>pnpm-lock.yaml</code> or <code>pnpm-workspace.yaml</code> exists
								</li>
								<li>npm: <code>package-lock.json</code> exists</li>
							</ol>
							<p>
								<strong>Solution:</strong> Remove unwanted lock files or use the correct package
								manager for your setup.
							</p>
							<h2 id="script-execution-issues">
								<a class="header" href="#script-execution-issues">Script Execution Issues</a>
							</h2>
							<h3 id="no-packages-found-with-script">
								<a class="header" href="#no-packages-found-with-script"
									>No Packages Found with Script</a
								>
							</h3>
							<p>If you get <code>No packages found with the "script-name" script</code>:</p>
							<p><strong>Check which packages have the script:</strong></p>
							<pre><code class="language-bash"># Manually check package.json files
find . -name "package.json" -not -path "./node_modules/*" -exec grep -l "script-name" {} \;
</code></pre>
							<p><strong>Solution:</strong> Add the script to package.json files where needed:</p>
							<pre><code class="language-json">{
  "scripts": {
    "test": "jest",
    "build": "tsc",
    "dev": "vite dev"
  }
}
</code></pre>
							<h3 id="scripts-failing">
								<a class="header" href="#scripts-failing">Scripts Failing</a>
							</h3>
							<p>If individual package scripts fail:</p>
							<p><strong>Debug a specific package:</strong></p>
							<pre><code class="language-bash"># Navigate to the failing package
cd packages/failing-package

# Run the script directly
npm run script-name
</code></pre>
							<p><strong>Common issues:</strong></p>
							<ul>
								<li>Missing dependencies: <code>npm install</code></li>
								<li>TypeScript errors: Check <code>tsconfig.json</code></li>
								<li>Build output conflicts: <code>npm run clean</code> first</li>
							</ul>
							<h3 id="permission-denied-errors">
								<a class="header" href="#permission-denied-errors">Permission Denied Errors</a>
							</h3>
							<p>If you get permission errors running scripts:</p>
							<pre><code class="language-bash"># On macOS/Linux, ensure scripts are executable
find . -name "*.sh" -exec chmod +x {} \;

# Check if using the right Node.js version
node --version
npm --version
</code></pre>
							<h2 id="build-issues"><a class="header" href="#build-issues">Build Issues</a></h2>
							<h3 id="dependency-cycle-detected">
								<a class="header" href="#dependency-cycle-detected">Dependency Cycle Detected</a>
							</h3>
							<p>If you get circular dependency errors:</p>
							<p>
								<strong>Error:</strong>
								<code>Dependency cycle detected: package-a -&gt; package-b -&gt; package-a</code>
							</p>
							<p><strong>Solution:</strong> Review and break circular dependencies:</p>
							<ol>
								<li>
									Check <code>dependencies</code> and <code>devDependencies</code> in package.json
									files
								</li>
								<li>Consider extracting shared code to a separate package</li>
								<li>Use <code>peerDependencies</code> where appropriate</li>
							</ol>
							<p><strong>Debug dependency graph:</strong></p>
							<pre><code class="language-bash"># Create a simple script to visualize dependencies
# deps.js
const fs = require('fs');
const path = require('path');

// Find all package.json files and show dependencies
// ... (custom script to analyze dependencies)
</code></pre>
							<h3 id="build-order-issues">
								<a class="header" href="#build-order-issues">Build Order Issues</a>
							</h3>
							<p>If builds fail due to missing dependencies:</p>
							<p>
								<strong>Use <code>wsu build</code> instead of <code>wsu run build</code>:</strong>
							</p>
							<pre><code class="language-json">{
  "scripts": {
    "build": "wsu build",           // âœ… Dependency-aware
    "build:parallel": "wsu run build"  // âŒ May fail
  }
}
</code></pre>
							<h3 id="memory-issues-during-build">
								<a class="header" href="#memory-issues-during-build">Memory Issues During Build</a>
							</h3>
							<p>If builds run out of memory:</p>
							<pre><code class="language-json">{
  "scripts": {
    "build": "wsu build --concurrency 1",
    "build:heavy": "NODE_OPTIONS='--max-old-space-size=4096' wsu build --concurrency 2"
  }
}
</code></pre>
							<h2 id="development-server-issues">
								<a class="header" href="#development-server-issues">Development Server Issues</a>
							</h2>
							<h3 id="ports-already-in-use">
								<a class="header" href="#ports-already-in-use">Ports Already in Use</a>
							</h3>
							<p>If dev servers can't start due to port conflicts:</p>
							<p><strong>Check what's using ports:</strong></p>
							<pre><code class="language-bash"># On macOS/Linux
lsof -i :3000
lsof -i :4000

# On Windows
netstat -ano | findstr :3000
</code></pre>
							<p>
								<strong>Solution:</strong> Kill conflicting processes or change ports in
								package.json:
							</p>
							<pre><code class="language-json">{
  "scripts": {
    "dev": "vite dev --port 3001"
  }
}
</code></pre>
							<h3 id="dev-servers-not-starting">
								<a class="header" href="#dev-servers-not-starting">Dev Servers Not Starting</a>
							</h3>
							<p>If development servers fail to start:</p>
							<p><strong>Check individual packages:</strong></p>
							<pre><code class="language-bash">cd packages/problematic-package
npm run dev
</code></pre>
							<p><strong>Common issues:</strong></p>
							<ul>
								<li>Missing dev dependencies</li>
								<li>Incorrect script configuration</li>
								<li>Environment variable issues</li>
							</ul>
							<h3 id="hot-reload-not-working">
								<a class="header" href="#hot-reload-not-working">Hot Reload Not Working</a>
							</h3>
							<p>If hot reload isn't working across packages:</p>
							<p><strong>Ensure proper file watching:</strong></p>
							<ul>
								<li>Check if files are being watched correctly</li>
								<li>Verify symlinks are set up properly</li>
								<li>Check if your bundler supports monorepo setups</li>
							</ul>
							<h2 id="performance-issues">
								<a class="header" href="#performance-issues">Performance Issues</a>
							</h2>
							<h3 id="slow-execution">
								<a class="header" href="#slow-execution">Slow Execution</a>
							</h3>
							<p>If commands are running slowly:</p>
							<p><strong>Reduce concurrency:</strong></p>
							<pre><code class="language-json">{
  "scripts": {
    "test:slow": "wsu run test --concurrency 2",
    "build:slow": "wsu build --concurrency 1"
  }
}
</code></pre>
							<p><strong>Use filtering to run fewer packages:</strong></p>
							<pre><code class="language-json">{
  "scripts": {
    "test:changed": "wsu run test --filter 'packages/changed-*'",
    "dev:minimal": "wsu dev --filter 'apps/main-app'"
  }
}
</code></pre>
							<h3 id="high-memory-usage">
								<a class="header" href="#high-memory-usage">High Memory Usage</a>
							</h3>
							<p>If workspace-utils uses too much memory:</p>
							<pre><code class="language-bash"># Monitor memory usage
top -p $(pgrep -f workspace-utils)

# Reduce concurrency
# Add to package.json scripts
"build:low-mem": "wsu build --concurrency 1"
</code></pre>
							<h2 id="character-encoding-issues">
								<a class="header" href="#character-encoding-issues">Character Encoding Issues</a>
							</h2>
							<h3 id="garbled-characters-in-output">
								<a class="header" href="#garbled-characters-in-output"
									>Garbled Characters in Output</a
								>
							</h3>
							<p>If you see strange characters instead of emojis:</p>
							<p><strong>Examples of issues:</strong></p>
							<pre><code>Ã¢ Completed in 54428ms    # Should be âœ… or [OK]
Ã¢Â±Ã¯Â¸  Total build time    # Should be â±ï¸ or [TIME]
Ã¢ Ã¯Â¸ Warning message      # Should be âš ï¸ or [WARN]
</code></pre>
							<p><strong>Quick Solutions:</strong></p>
							<p><strong>Option 1: Force ASCII mode (recommended)</strong></p>
							<pre><code class="language-json">{
  "scripts": {
    "build": "wsu build --ascii",
    "test": "wsu run test --ascii",
    "dev": "wsu dev --ascii"
  }
}
</code></pre>
							<p><strong>Option 2: Set environment variable</strong></p>
							<pre><code class="language-bash"># In your shell
export WSU_ASCII=1

# Or in package.json
"build": "WSU_ASCII=1 wsu build"
</code></pre>
							<p><strong>Option 3: Terminal fixes</strong> If you prefer Unicode characters:</p>
							<ol>
								<li>Update your terminal to a modern version</li>
								<li>
									Set proper environment variables:
									<pre><code class="language-bash">export LANG=en_US.UTF-8
export LC_ALL=en_US.UTF-8
</code></pre>
								</li>
								<li>
									Force Unicode mode:
									<pre><code class="language-bash">export WSU_UNICODE=1
</code></pre>
								</li>
							</ol>
							<p><strong>Debug what's being detected:</strong></p>
							<pre><code class="language-bash"># Check your environment
node -e "console.log(process.platform, process.env.TERM, process.env.TERM_PROGRAM)"
</code></pre>
							<h2 id="filtering-issues">
								<a class="header" href="#filtering-issues">Filtering Issues</a>
							</h2>
							<h3 id="filter-not-matching-packages">
								<a class="header" href="#filter-not-matching-packages"
									>Filter Not Matching Packages</a
								>
							</h3>
							<p>If <code>--filter</code> doesn't match expected packages:</p>
							<p><strong>Debug filtering:</strong></p>
							<pre><code class="language-bash"># List all packages first
find . -name "package.json" -not -path "./node_modules/*" | head -10

# Check package names in workspace
</code></pre>
							<p><strong>Common filter patterns:</strong></p>
							<pre><code class="language-json">{
  "scripts": {
    "test:scope": "wsu run test --filter '@company/*'",
    "test:apps": "wsu run test --filter 'apps/*'",
    "test:utils": "wsu run test --filter '*-utils'",
    "test:frontend": "wsu run test --filter '*frontend*'"
  }
}
</code></pre>
							<h3 id="case-sensitivity">
								<a class="header" href="#case-sensitivity">Case Sensitivity</a>
							</h3>
							<p>Filters are case-sensitive. Use exact casing:</p>
							<pre><code class="language-json">{
  "scripts": {
    "test:React": "wsu run test --filter '*React*'",  // Correct
    "test:react": "wsu run test --filter '*react*'"   // Different results
  }
}
</code></pre>
							<h2 id="environment-issues">
								<a class="header" href="#environment-issues">Environment Issues</a>
							</h2>
							<h3 id="nodejs-version">
								<a class="header" href="#nodejs-version">Node.js Version</a>
							</h3>
							<p>workspace-utils requires Node.js 18+:</p>
							<pre><code class="language-bash"># Check version
node --version

# If too old, update Node.js
# Use nvm, fnm, or download from nodejs.org
</code></pre>
							<h3 id="environment-variables-1">
								<a class="header" href="#environment-variables-1">Environment Variables</a>
							</h3>
							<p>If environment variables aren't being passed:</p>
							<p><strong>In your package scripts:</strong></p>
							<pre><code class="language-json">{
  "scripts": {
    "test:env": "NODE_ENV=test wsu run test",
    "build:prod": "NODE_ENV=production wsu build"
  }
}
</code></pre>
							<p>
								<strong>For complex environments, use .env files in individual packages.</strong>
							</p>
							<h2 id="getting-help"><a class="header" href="#getting-help">Getting Help</a></h2>
							<h3 id="enable-debug-mode">
								<a class="header" href="#enable-debug-mode">Enable Debug Mode</a>
							</h3>
							<p>If you need more information about what's happening:</p>
							<pre><code class="language-json">{
  "scripts": {
    "debug:build": "DEBUG=workspace-utils wsu build",
    "debug:test": "DEBUG=* wsu run test"
  }
}
</code></pre>
							<h3 id="verbose-output">
								<a class="header" href="#verbose-output">Verbose Output</a>
							</h3>
							<p>For more detailed logging:</p>
							<pre><code class="language-bash"># Run with verbose npm logging
npm run build --verbose

# Check the exact commands being run
</code></pre>
							<h3 id="common-command-issues">
								<a class="header" href="#common-command-issues">Common Command Issues</a>
							</h3>
							<p><strong>Command not found:</strong></p>
							<pre><code class="language-bash"># Make sure workspace-utils is installed
npm ls workspace-utils

# Try running directly
npx wsu --version
</code></pre>
							<p><strong>Script syntax errors:</strong></p>
							<pre><code class="language-json">{
  "scripts": {
    // âŒ Wrong quotes
    "test": 'wsu run test',
    
    // âœ… Correct quotes  
    "test": "wsu run test"
  }
}
</code></pre>
							<h2 id="reporting-issues">
								<a class="header" href="#reporting-issues">Reporting Issues</a>
							</h2>
							<p>If you encounter a bug or need help:</p>
							<ol>
								<li><strong>Check this troubleshooting guide first</strong></li>
								<li><strong>Search existing issues</strong> in the repository</li>
								<li>
									<strong>Provide minimal reproduction</strong> when reporting:
									<ul>
										<li>Your <code>package.json</code> scripts</li>
										<li>Workspace structure</li>
										<li>Full error message</li>
										<li>Node.js and package manager versions</li>
									</ul>
								</li>
							</ol>
							<p><strong>Useful info to include:</strong></p>
							<pre><code class="language-bash"># System information
node --version
npm --version  # or pnpm --version, bun --version
npx wsu --version

# Workspace structure
tree -I node_modules -L 3
</code></pre>
							<h2 id="quick-fixes-checklist">
								<a class="header" href="#quick-fixes-checklist">Quick Fixes Checklist</a>
							</h2>
							<p>When things go wrong, try these in order:</p>
							<ol>
								<li><strong>Check installation:</strong> <code>npm ls workspace-utils</code></li>
								<li>
									<strong>Verify workspace setup:</strong> Ensure workspace config files exist
								</li>
								<li>
									<strong>Clean and reinstall:</strong>
									<code>rm -rf node_modules &amp;&amp; npm install</code>
								</li>
								<li>
									<strong>Check package.json syntax:</strong> Ensure scripts are properly quoted
								</li>
								<li>
									<strong>Test individual packages:</strong>
									<code>cd package &amp;&amp; npm run script-name</code>
								</li>
								<li>
									<strong>Reduce concurrency:</strong> Add <code>--concurrency 1</code> to scripts
								</li>
								<li>
									<strong>Check Node.js version:</strong> <code>node --version</code> (should be
									18+)
								</li>
								<li><strong>Clear caches:</strong> <code>npm cache clean --force</code></li>
							</ol>
							<p>Most issues are resolved by steps 1-4!</p>
						</main>

						<nav class="nav-wrapper" aria-label="Page navigation">
							<!-- Mobile navigation buttons -->

							<div style="clear: both"></div>
						</nav>
					</div>
				</div>

				<nav class="nav-wide-wrapper" aria-label="Page navigation"></nav>
			</div>

			<!-- Livereload script (if served using the cli tool) -->
			<script>
				const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
				const wsAddress = wsProtocol + '//' + location.host + '/' + '__livereload';
				const socket = new WebSocket(wsAddress);
				socket.onmessage = function (event) {
					if (event.data === 'reload') {
						socket.close();
						location.reload();
					}
				};

				window.onbeforeunload = function () {
					socket.close();
				};
			</script>

			<script>
				window.playground_copyable = true;
			</script>

			<script src="elasticlunr.min.js"></script>
			<script src="mark.min.js"></script>
			<script src="searcher.js"></script>

			<script src="clipboard.min.js"></script>
			<script src="highlight.js"></script>
			<script src="book.js"></script>

			<!-- Custom JS scripts -->

			<script>
				window.addEventListener('load', function () {
					window.setTimeout(window.print, 100);
				});
			</script>
		</div>
	</body>
</html>
